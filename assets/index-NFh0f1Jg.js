(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Pm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hc={exports:{}},Go={},Gc={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function fv(){if(pp)return Se;pp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function L(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,q={};function z(D,$,ue){this.props=D,this.context=$,this.refs=q,this.updater=ue||j}z.prototype.isReactComponent={},z.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function re(){}re.prototype=z.prototype;function le(D,$,ue){this.props=D,this.context=$,this.refs=q,this.updater=ue||j}var pe=le.prototype=new re;pe.constructor=le,G(pe,z.prototype),pe.isPureReactComponent=!0;var ye=Array.isArray,Be=Object.prototype.hasOwnProperty,Ae={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(D,$,ue){var Te,Ie={},xe=null,Oe=null;if($!=null)for(Te in $.ref!==void 0&&(Oe=$.ref),$.key!==void 0&&(xe=""+$.key),$)Be.call($,Te)&&!V.hasOwnProperty(Te)&&(Ie[Te]=$[Te]);var Fe=arguments.length-2;if(Fe===1)Ie.children=ue;else if(1<Fe){for(var qe=Array(Fe),_t=0;_t<Fe;_t++)qe[_t]=arguments[_t+2];Ie.children=qe}if(D&&D.defaultProps)for(Te in Fe=D.defaultProps,Fe)Ie[Te]===void 0&&(Ie[Te]=Fe[Te]);return{$$typeof:i,type:D,key:xe,ref:Oe,props:Ie,_owner:Ae.current}}function A(D,$){return{$$typeof:i,type:D.type,key:$,ref:D.ref,props:D.props,_owner:D._owner}}function P(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function N(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return $[ue]})}var x=/\/+/g;function S(D,$){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):$.toString(36)}function $e(D,$,ue,Te,Ie){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var Oe=!1;if(D===null)Oe=!0;else switch(xe){case"string":case"number":Oe=!0;break;case"object":switch(D.$$typeof){case i:case e:Oe=!0}}if(Oe)return Oe=D,Ie=Ie(Oe),D=Te===""?"."+S(Oe,0):Te,ye(Ie)?(ue="",D!=null&&(ue=D.replace(x,"$&/")+"/"),$e(Ie,$,ue,"",function(_t){return _t})):Ie!=null&&(P(Ie)&&(Ie=A(Ie,ue+(!Ie.key||Oe&&Oe.key===Ie.key?"":(""+Ie.key).replace(x,"$&/")+"/")+D)),$.push(Ie)),1;if(Oe=0,Te=Te===""?".":Te+":",ye(D))for(var Fe=0;Fe<D.length;Fe++){xe=D[Fe];var qe=Te+S(xe,Fe);Oe+=$e(xe,$,ue,qe,Ie)}else if(qe=L(D),typeof qe=="function")for(D=qe.call(D),Fe=0;!(xe=D.next()).done;)xe=xe.value,qe=Te+S(xe,Fe++),Oe+=$e(xe,$,ue,qe,Ie);else if(xe==="object")throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Oe}function ct(D,$,ue){if(D==null)return D;var Te=[],Ie=0;return $e(D,Te,"","",function(xe){return $.call(ue,xe,Ie++)}),Te}function rt(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var be={current:null},J={transition:null},ae={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ae};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:ct,forEach:function(D,$,ue){ct(D,function(){$.apply(this,arguments)},ue)},count:function(D){var $=0;return ct(D,function(){$++}),$},toArray:function(D){return ct(D,function($){return $})||[]},only:function(D){if(!P(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Se.Component=z,Se.Fragment=n,Se.Profiler=a,Se.PureComponent=le,Se.StrictMode=s,Se.Suspense=y,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Se.act=Z,Se.cloneElement=function(D,$,ue){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Te=G({},D.props),Ie=D.key,xe=D.ref,Oe=D._owner;if($!=null){if($.ref!==void 0&&(xe=$.ref,Oe=Ae.current),$.key!==void 0&&(Ie=""+$.key),D.type&&D.type.defaultProps)var Fe=D.type.defaultProps;for(qe in $)Be.call($,qe)&&!V.hasOwnProperty(qe)&&(Te[qe]=$[qe]===void 0&&Fe!==void 0?Fe[qe]:$[qe])}var qe=arguments.length-2;if(qe===1)Te.children=ue;else if(1<qe){Fe=Array(qe);for(var _t=0;_t<qe;_t++)Fe[_t]=arguments[_t+2];Te.children=Fe}return{$$typeof:i,type:D.type,key:Ie,ref:xe,props:Te,_owner:Oe}},Se.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Se.createElement=I,Se.createFactory=function(D){var $=I.bind(null,D);return $.type=D,$},Se.createRef=function(){return{current:null}},Se.forwardRef=function(D){return{$$typeof:m,render:D}},Se.isValidElement=P,Se.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:rt}},Se.memo=function(D,$){return{$$typeof:_,type:D,compare:$===void 0?null:$}},Se.startTransition=function(D){var $=J.transition;J.transition={};try{D()}finally{J.transition=$}},Se.unstable_act=Z,Se.useCallback=function(D,$){return be.current.useCallback(D,$)},Se.useContext=function(D){return be.current.useContext(D)},Se.useDebugValue=function(){},Se.useDeferredValue=function(D){return be.current.useDeferredValue(D)},Se.useEffect=function(D,$){return be.current.useEffect(D,$)},Se.useId=function(){return be.current.useId()},Se.useImperativeHandle=function(D,$,ue){return be.current.useImperativeHandle(D,$,ue)},Se.useInsertionEffect=function(D,$){return be.current.useInsertionEffect(D,$)},Se.useLayoutEffect=function(D,$){return be.current.useLayoutEffect(D,$)},Se.useMemo=function(D,$){return be.current.useMemo(D,$)},Se.useReducer=function(D,$,ue){return be.current.useReducer(D,$,ue)},Se.useRef=function(D){return be.current.useRef(D)},Se.useState=function(D){return be.current.useState(D)},Se.useSyncExternalStore=function(D,$,ue){return be.current.useSyncExternalStore(D,$,ue)},Se.useTransition=function(){return be.current.useTransition()},Se.version="18.3.1",Se}var mp;function Ph(){return mp||(mp=1,Gc.exports=fv()),Gc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function pv(){if(gp)return Go;gp=1;var i=Ph(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,y,_){var w,R={},L=null,j=null;_!==void 0&&(L=""+_),y.key!==void 0&&(L=""+y.key),y.ref!==void 0&&(j=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(R[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)R[w]===void 0&&(R[w]=y[w]);return{$$typeof:e,type:m,key:L,ref:j,props:R,_owner:a.current}}return Go.Fragment=n,Go.jsx=d,Go.jsxs=d,Go}var yp;function mv(){return yp||(yp=1,Hc.exports=pv()),Hc.exports}var Ce=mv(),we=Ph();const gv=Pm(we);var Vl={},Qc={exports:{}},Xt={},Kc={exports:{}},Xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function yv(){return vp||(vp=1,function(i){function e(J,ae){var Z=J.length;J.push(ae);e:for(;0<Z;){var D=Z-1>>>1,$=J[D];if(0<a($,ae))J[D]=ae,J[Z]=$,Z=D;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],Z=J.pop();if(Z!==ae){J[0]=Z;e:for(var D=0,$=J.length,ue=$>>>1;D<ue;){var Te=2*(D+1)-1,Ie=J[Te],xe=Te+1,Oe=J[xe];if(0>a(Ie,Z))xe<$&&0>a(Oe,Ie)?(J[D]=Oe,J[xe]=Z,D=xe):(J[D]=Ie,J[Te]=Z,D=Te);else if(xe<$&&0>a(Oe,Z))J[D]=Oe,J[xe]=Z,D=xe;else break e}}return ae}function a(J,ae){var Z=J.sortIndex-ae.sortIndex;return Z!==0?Z:J.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var y=[],_=[],w=1,R=null,L=3,j=!1,G=!1,q=!1,z=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pe(J){for(var ae=n(_);ae!==null;){if(ae.callback===null)s(_);else if(ae.startTime<=J)s(_),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(_)}}function ye(J){if(q=!1,pe(J),!G)if(n(y)!==null)G=!0,rt(Be);else{var ae=n(_);ae!==null&&be(ye,ae.startTime-J)}}function Be(J,ae){G=!1,q&&(q=!1,re(I),I=-1),j=!0;var Z=L;try{for(pe(ae),R=n(y);R!==null&&(!(R.expirationTime>ae)||J&&!N());){var D=R.callback;if(typeof D=="function"){R.callback=null,L=R.priorityLevel;var $=D(R.expirationTime<=ae);ae=i.unstable_now(),typeof $=="function"?R.callback=$:R===n(y)&&s(y),pe(ae)}else s(y);R=n(y)}if(R!==null)var ue=!0;else{var Te=n(_);Te!==null&&be(ye,Te.startTime-ae),ue=!1}return ue}finally{R=null,L=Z,j=!1}}var Ae=!1,V=null,I=-1,A=5,P=-1;function N(){return!(i.unstable_now()-P<A)}function x(){if(V!==null){var J=i.unstable_now();P=J;var ae=!0;try{ae=V(!0,J)}finally{ae?S():(Ae=!1,V=null)}}else Ae=!1}var S;if(typeof le=="function")S=function(){le(x)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,ct=$e.port2;$e.port1.onmessage=x,S=function(){ct.postMessage(null)}}else S=function(){z(x,0)};function rt(J){V=J,Ae||(Ae=!0,S())}function be(J,ae){I=z(function(){J(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){G||j||(G=!0,rt(Be))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return L},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(J){switch(L){case 1:case 2:case 3:var ae=3;break;default:ae=L}var Z=L;L=ae;try{return J()}finally{L=Z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Z=L;L=J;try{return ae()}finally{L=Z}},i.unstable_scheduleCallback=function(J,ae,Z){var D=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?D+Z:D):Z=D,J){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Z+$,J={id:w++,callback:ae,priorityLevel:J,startTime:Z,expirationTime:$,sortIndex:-1},Z>D?(J.sortIndex=Z,e(_,J),n(y)===null&&J===n(_)&&(q?(re(I),I=-1):q=!0,be(ye,Z-D))):(J.sortIndex=$,e(y,J),G||j||(G=!0,rt(Be))),J},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(J){var ae=L;return function(){var Z=L;L=ae;try{return J.apply(this,arguments)}finally{L=Z}}}}(Xc)),Xc}var _p;function vv(){return _p||(_p=1,Kc.exports=yv()),Kc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function _v(){if(Ep)return Xt;Ep=1;var i=Ph(),e=vv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function L(t){return y.call(R,t)?!0:y.call(w,t)?!1:_.test(t)?R[t]=!0:(w[t]=!0,!1)}function j(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G(t,r,o,u){if(r===null||typeof r>"u"||j(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function q(t,r,o,u,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new q(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];z[r]=new q(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new q(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new q(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new q(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new q(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new q(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new q(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new q(t,5,!1,t.toLowerCase(),null,!1,!1)});var re=/[\-:]([a-z])/g;function le(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(re,le);z[r]=new q(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(re,le);z[r]=new q(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(re,le);z[r]=new q(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new q(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new q(t,1,!1,t.toLowerCase(),null,!0,!0)});function pe(t,r,o,u){var h=z.hasOwnProperty(r)?z[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(G(r,o,h,u)&&(o=null),u||h===null?L(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var ye=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Be=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),N=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),J=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,D;function $(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var ue=!1;function Te(t,r){if(!t||ue)return"";ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var u=F}Reflect.construct(t,[],r)}else{try{r.call()}catch(F){u=F}t.call(r.prototype)}else{try{throw Error()}catch(F){u=F}t()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,T=p.length-1;1<=v&&0<=T&&h[v]!==p[T];)T--;for(;1<=v&&0<=T;v--,T--)if(h[v]!==p[T]){if(v!==1||T!==1)do if(v--,T--,0>T||h[v]!==p[T]){var C=`
`+h[v].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=v&&0<=T);break}}}finally{ue=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?$(t):""}function Ie(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Ae:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case $e:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case x:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ct:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case rt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qe(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _t(t){var r=qe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Xn(t){t._valueTracker||(t._valueTracker=_t(t))}function Fi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=qe(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function _r(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ti(t,r){var o=r.checked;return Z({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function zi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Js(t,r){r=r.checked,r!=null&&pe(t,"checked",r,!1)}function Zs(t,r){Js(t,r);var o=Fe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ui(t,r.type,o):r.hasOwnProperty("defaultValue")&&Ui(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ga(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ui(t,r,o){(r!=="number"||_r(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Yn=Array.isArray;function Jn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function eo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ji(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Yn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Bi(t,r){var o=Fe(r.value),u=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function to(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ht(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zn,no=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Er(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ri=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(t){ri.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ni[r]=ni[t]})});function ro(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ni.hasOwnProperty(t)&&ni[t]?(""+r).trim():r+"px"}function io(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=ro(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var so=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oo(t,r){if(r){if(so[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ao(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ii=null;function $i(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,ln=null,Ln=null;function Wi(t){if(t=No(t)){if(typeof qi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ha(r),qi(t.stateNode,t.type,r))}}function Mn(t){ln?Ln?Ln.push(t):Ln=[t]:ln=t}function lo(){if(ln){var t=ln,r=Ln;if(Ln=ln=null,Wi(t),r)for(t=0;t<r.length;t++)Wi(r[t])}}function si(t,r){return t(r)}function uo(){}var er=!1;function co(t,r,o){if(er)return t(r,o);er=!0;try{return si(t,r,o)}finally{er=!1,(ln!==null||Ln!==null)&&(uo(),lo())}}function it(t,r){var o=t.stateNode;if(o===null)return null;var u=Ha(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Hi=!1;if(m)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Hi=!1}function oi(t,r,o,u,h,p,v,T,C){var F=Array.prototype.slice.call(arguments,3);try{r.apply(o,F)}catch(H){this.onError(H)}}var ai=!1,Gi=null,_n=!1,ho=null,Eu={onError:function(t){ai=!0,Gi=t}};function Qi(t,r,o,u,h,p,v,T,C){ai=!1,Gi=null,oi.apply(Eu,arguments)}function ya(t,r,o,u,h,p,v,T,C){if(Qi.apply(this,arguments),ai){if(ai){var F=Gi;ai=!1,Gi=null}else throw Error(n(198));_n||(_n=!0,ho=F)}}function En(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function li(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function wn(t){if(En(t)!==t)throw Error(n(188))}function va(t){var r=t.alternate;if(!r){if(r=En(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return wn(h),t;if(p===u)return wn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var v=!1,T=h.child;T;){if(T===o){v=!0,o=h,u=p;break}if(T===u){v=!0,u=h,o=p;break}T=T.sibling}if(!v){for(T=p.child;T;){if(T===o){v=!0,o=p,u=h;break}if(T===u){v=!0,u=p,o=h;break}T=T.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function fo(t){return t=va(t),t!==null?Ki(t):null}function Ki(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Ki(t);if(r!==null)return r;t=t.sibling}return null}var Xi=e.unstable_scheduleCallback,po=e.unstable_cancelCallback,_a=e.unstable_shouldYield,wu=e.unstable_requestPaint,We=e.unstable_now,Ea=e.unstable_getCurrentPriorityLevel,ui=e.unstable_ImmediatePriority,wr=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,mo=e.unstable_LowPriority,wa=e.unstable_IdlePriority,ci=null,Zt=null;function Ta(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ci,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Sa,go=Math.log,Ia=Math.LN2;function Sa(t){return t>>>=0,t===0?32:31-(go(t)/Ia|0)|0}var Yi=64,Ji=4194304;function Tr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var T=v&~h;T!==0?u=Tr(T):(p&=v,p!==0&&(u=Tr(p)))}else v=o&~h,v!==0?u=Tr(v):p!==0&&(u=Tr(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-zt(r),h=1<<o,u|=t[o],r&=~h;return u}function Tu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-zt(p),T=1<<v,C=h[v];C===-1?(!(T&o)||T&u)&&(h[v]=Tu(T,r)):C<=r&&(t.expiredLanes|=T),p&=~T}}function en(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function di(){var t=Yi;return Yi<<=1,!(Yi&4194240)&&(Yi=64),t}function Ir(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Sr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-zt(r),t[r]=o}function je(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-zt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Ar(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-zt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Pe=0;function Cr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Aa,Zi,Ca,Ra,Pa,yo=!1,bn=[],At=null,Tn=null,In=null,Rr=new Map,cn=new Map,On=[],Iu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ka(t,r){switch(t){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Rr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(r.pointerId)}}function $t(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=No(r),r!==null&&Zi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Su(t,r,o,u,h){switch(r){case"focusin":return At=$t(At,t,r,o,u,h),!0;case"dragenter":return Tn=$t(Tn,t,r,o,u,h),!0;case"mouseover":return In=$t(In,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Rr.set(p,$t(Rr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,cn.set(p,$t(cn.get(p)||null,t,r,o,u,h)),!0}return!1}function xa(t){var r=yi(t.target);if(r!==null){var o=En(r);if(o!==null){if(r=o.tag,r===13){if(r=li(o),r!==null){t.blockedOn=r,Pa(t.priority,function(){Ca(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=es(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ii=u,o.target.dispatchEvent(u),ii=null}else return r=No(o),r!==null&&Zi(r),t.blockedOn=o,!1;r.shift()}return!0}function fi(t,r,o){nr(t)&&o.delete(r)}function Va(){yo=!1,At!==null&&nr(At)&&(At=null),Tn!==null&&nr(Tn)&&(Tn=null),In!==null&&nr(In)&&(In=null),Rr.forEach(fi),cn.forEach(fi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,yo||(yo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Va)))}function An(t){function r(h){return Sn(h,t)}if(0<bn.length){Sn(bn[0],t);for(var o=1;o<bn.length;o++){var u=bn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(At!==null&&Sn(At,t),Tn!==null&&Sn(Tn,t),In!==null&&Sn(In,t),Rr.forEach(r),cn.forEach(r),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)xa(o),o.blockedOn===null&&On.shift()}var rr=ye.ReactCurrentBatchConfig,Pr=!0;function Xe(t,r,o,u){var h=Pe,p=rr.transition;rr.transition=null;try{Pe=1,vo(t,r,o,u)}finally{Pe=h,rr.transition=p}}function Au(t,r,o,u){var h=Pe,p=rr.transition;rr.transition=null;try{Pe=4,vo(t,r,o,u)}finally{Pe=h,rr.transition=p}}function vo(t,r,o,u){if(Pr){var h=es(t,r,o,u);if(h===null)bu(t,r,u,pi,o),ka(t,u);else if(Su(h,t,r,o,u))u.stopPropagation();else if(ka(t,u),r&4&&-1<Iu.indexOf(t)){for(;h!==null;){var p=No(h);if(p!==null&&Aa(p),p=es(t,r,o,u),p===null&&bu(t,r,u,pi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else bu(t,r,u,null,o)}}var pi=null;function es(t,r,o,u){if(pi=null,t=$i(u),t=yi(t),t!==null)if(r=En(t),r===null)t=null;else if(o=r.tag,o===13){if(t=li(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return pi=t,null}function _o(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ea()){case ui:return 1;case wr:return 4;case un:case mo:return 16;case wa:return 536870912;default:return 16}default:return 16}}var tn=null,ts=null,qt=null;function Eo(){if(qt)return qt;var t,r=ts,o=r.length,u,h="value"in tn?tn.value:tn.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[p-u];u++);return qt=h.slice(t,1<u?1-u:void 0)}function ns(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function wo(){return!1}function Ct(t){function r(o,u,h,p,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:wo,this.isPropagationStopped=wo,this}return Z(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Ct(Cn),zn=Z({},Cn,{view:0,detail:0}),Cu=Ct(zn),is,ir,kr,mi=Z({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kr&&(kr&&t.type==="mousemove"?(is=t.screenX-kr.screenX,ir=t.screenY-kr.screenY):ir=is=0,kr=t),is)},movementY:function(t){return"movementY"in t?t.movementY:ir}}),ss=Ct(mi),To=Z({},mi,{dataTransfer:0}),Na=Ct(To),os=Z({},zn,{relatedTarget:0}),as=Ct(os),Da=Z({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),sr=Ct(Da),La=Z({},Cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=Ct(La),ba=Z({},Cn,{data:0}),Io=Ct(ba),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Oa[t])?!!r[t]:!1}function Un(){return Fa}var l=Z({},zn,{key:function(t){if(t.key){var r=ls[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ut[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(t){return t.type==="keypress"?ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=Ct(l),g=Z({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Ct(g),M=Z({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),U=Ct(M),Y=Z({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=Ct(Y),ft=Z({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Ct(ft),Et=[9,13,27,32],at=m&&"CompositionEvent"in window,hn=null;m&&"documentMode"in document&&(hn=document.documentMode);var nn=m&&"TextEvent"in window&&!hn,gi=m&&(!at||hn&&8<hn&&11>=hn),us=" ",ad=!1;function ld(t,r){switch(t){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function hy(t,r){switch(t){case"compositionend":return ud(r);case"keypress":return r.which!==32?null:(ad=!0,us);case"textInput":return t=r.data,t===us&&ad?null:t;default:return null}}function dy(t,r){if(cs)return t==="compositionend"||!at&&ld(t,r)?(t=Eo(),qt=ts=tn=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return gi&&r.locale!=="ko"?null:r.data;default:return null}}var fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!fy[t.type]:r==="textarea"}function hd(t,r,o,u){Mn(u),r=$a(r,"onChange"),0<r.length&&(o=new rs("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var So=null,Ao=null;function py(t){kd(t,0)}function za(t){var r=ms(t);if(Fi(r))return t}function my(t,r){if(t==="change")return r}var dd=!1;if(m){var Ru;if(m){var Pu="oninput"in document;if(!Pu){var fd=document.createElement("div");fd.setAttribute("oninput","return;"),Pu=typeof fd.oninput=="function"}Ru=Pu}else Ru=!1;dd=Ru&&(!document.documentMode||9<document.documentMode)}function pd(){So&&(So.detachEvent("onpropertychange",md),Ao=So=null)}function md(t){if(t.propertyName==="value"&&za(Ao)){var r=[];hd(r,Ao,t,$i(t)),co(py,r)}}function gy(t,r,o){t==="focusin"?(pd(),So=r,Ao=o,So.attachEvent("onpropertychange",md)):t==="focusout"&&pd()}function yy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return za(Ao)}function vy(t,r){if(t==="click")return za(r)}function _y(t,r){if(t==="input"||t==="change")return za(r)}function Ey(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Rn=typeof Object.is=="function"?Object.is:Ey;function Co(t,r){if(Rn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!Rn(t[h],r[h]))return!1}return!0}function gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yd(t,r){var o=gd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gd(o)}}function vd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?vd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function _d(){for(var t=window,r=_r();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=_r(t.document)}return r}function ku(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function wy(t){var r=_d(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&vd(o.ownerDocument.documentElement,o)){if(u!==null&&ku(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=yd(o,p);var v=yd(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ty=m&&"documentMode"in document&&11>=document.documentMode,hs=null,xu=null,Ro=null,Vu=!1;function Ed(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vu||hs==null||hs!==_r(u)||(u=hs,"selectionStart"in u&&ku(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ro&&Co(Ro,u)||(Ro=u,u=$a(xu,"onSelect"),0<u.length&&(r=new rs("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=hs)))}function Ua(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ds={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},Nu={},wd={};m&&(wd=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function ja(t){if(Nu[t])return Nu[t];if(!ds[t])return t;var r=ds[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in wd)return Nu[t]=r[o];return t}var Td=ja("animationend"),Id=ja("animationiteration"),Sd=ja("animationstart"),Ad=ja("transitionend"),Cd=new Map,Rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,r){Cd.set(t,r),c(r,[t])}for(var Du=0;Du<Rd.length;Du++){var Lu=Rd[Du],Iy=Lu.toLowerCase(),Sy=Lu[0].toUpperCase()+Lu.slice(1);xr(Iy,"on"+Sy)}xr(Td,"onAnimationEnd"),xr(Id,"onAnimationIteration"),xr(Sd,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Ad,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ay=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Pd(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ya(u,r,void 0,t),t.currentTarget=null}function kd(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var T=u[v],C=T.instance,F=T.currentTarget;if(T=T.listener,C!==p&&h.isPropagationStopped())break e;Pd(h,T,F),p=C}else for(v=0;v<u.length;v++){if(T=u[v],C=T.instance,F=T.currentTarget,T=T.listener,C!==p&&h.isPropagationStopped())break e;Pd(h,T,F),p=C}}}if(_n)throw t=ho,_n=!1,ho=null,t}function Ge(t,r){var o=r[Bu];o===void 0&&(o=r[Bu]=new Set);var u=t+"__bubble";o.has(u)||(xd(r,t,2,!1),o.add(u))}function Mu(t,r,o){var u=0;r&&(u|=4),xd(o,t,u,r)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function ko(t){if(!t[Ba]){t[Ba]=!0,s.forEach(function(o){o!=="selectionchange"&&(Ay.has(o)||Mu(o,!1,t),Mu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ba]||(r[Ba]=!0,Mu("selectionchange",!1,r))}}function xd(t,r,o,u){switch(_o(r)){case 1:var h=Xe;break;case 4:h=Au;break;default:h=vo}o=h.bind(null,r,o,t),h=void 0,!Hi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function bu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;T!==null;){if(v=yi(T),v===null)return;if(C=v.tag,C===5||C===6){u=p=v;continue e}T=T.parentNode}}u=u.return}co(function(){var F=p,H=$i(o),Q=[];e:{var W=Cd.get(t);if(W!==void 0){var ee=rs,ie=t;switch(t){case"keypress":if(ns(o)===0)break e;case"keydown":case"keyup":ee=f;break;case"focusin":ie="focus",ee=as;break;case"focusout":ie="blur",ee=as;break;case"beforeblur":case"afterblur":ee=as;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Na;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=U;break;case Td:case Id:case Sd:ee=sr;break;case Ad:ee=Ue;break;case"scroll":ee=Cu;break;case"wheel":ee=Ve;break;case"copy":case"cut":case"paste":ee=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=E}var se=(r&4)!==0,st=!se&&t==="scroll",b=se?W!==null?W+"Capture":null:W;se=[];for(var k=F,O;k!==null;){O=k;var X=O.stateNode;if(O.tag===5&&X!==null&&(O=X,b!==null&&(X=it(k,b),X!=null&&se.push(xo(k,X,O)))),st)break;k=k.return}0<se.length&&(W=new ee(W,ie,null,o,H),Q.push({event:W,listeners:se}))}}if(!(r&7)){e:{if(W=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",W&&o!==ii&&(ie=o.relatedTarget||o.fromElement)&&(yi(ie)||ie[or]))break e;if((ee||W)&&(W=H.window===H?H:(W=H.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(ie=o.relatedTarget||o.toElement,ee=F,ie=ie?yi(ie):null,ie!==null&&(st=En(ie),ie!==st||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=F),ee!==ie)){if(se=ss,X="onMouseLeave",b="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(se=E,X="onPointerLeave",b="onPointerEnter",k="pointer"),st=ee==null?W:ms(ee),O=ie==null?W:ms(ie),W=new se(X,k+"leave",ee,o,H),W.target=st,W.relatedTarget=O,X=null,yi(H)===F&&(se=new se(b,k+"enter",ie,o,H),se.target=O,se.relatedTarget=st,X=se),st=X,ee&&ie)t:{for(se=ee,b=ie,k=0,O=se;O;O=fs(O))k++;for(O=0,X=b;X;X=fs(X))O++;for(;0<k-O;)se=fs(se),k--;for(;0<O-k;)b=fs(b),O--;for(;k--;){if(se===b||b!==null&&se===b.alternate)break t;se=fs(se),b=fs(b)}se=null}else se=null;ee!==null&&Vd(Q,W,ee,se,!1),ie!==null&&st!==null&&Vd(Q,st,ie,se,!0)}}e:{if(W=F?ms(F):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var oe=my;else if(cd(W))if(dd)oe=_y;else{oe=yy;var ce=gy}else(ee=W.nodeName)&&ee.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(oe=vy);if(oe&&(oe=oe(t,F))){hd(Q,oe,o,H);break e}ce&&ce(t,W,F),t==="focusout"&&(ce=W._wrapperState)&&ce.controlled&&W.type==="number"&&Ui(W,"number",W.value)}switch(ce=F?ms(F):window,t){case"focusin":(cd(ce)||ce.contentEditable==="true")&&(hs=ce,xu=F,Ro=null);break;case"focusout":Ro=xu=hs=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Ed(Q,o,H);break;case"selectionchange":if(Ty)break;case"keydown":case"keyup":Ed(Q,o,H)}var he;if(at)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else cs?ld(t,o)&&(me="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(me="onCompositionStart");me&&(gi&&o.locale!=="ko"&&(cs||me!=="onCompositionStart"?me==="onCompositionEnd"&&cs&&(he=Eo()):(tn=H,ts="value"in tn?tn.value:tn.textContent,cs=!0)),ce=$a(F,me),0<ce.length&&(me=new Io(me,t,null,o,H),Q.push({event:me,listeners:ce}),he?me.data=he:(he=ud(o),he!==null&&(me.data=he)))),(he=nn?hy(t,o):dy(t,o))&&(F=$a(F,"onBeforeInput"),0<F.length&&(H=new Io("onBeforeInput","beforeinput",null,o,H),Q.push({event:H,listeners:F}),H.data=he))}kd(Q,r)})}function xo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function $a(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=it(t,o),p!=null&&u.unshift(xo(t,p,h)),p=it(t,r),p!=null&&u.push(xo(t,p,h))),t=t.return}return u}function fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vd(t,r,o,u,h){for(var p=r._reactName,v=[];o!==null&&o!==u;){var T=o,C=T.alternate,F=T.stateNode;if(C!==null&&C===u)break;T.tag===5&&F!==null&&(T=F,h?(C=it(o,p),C!=null&&v.unshift(xo(o,C,T))):h||(C=it(o,p),C!=null&&v.push(xo(o,C,T)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var Cy=/\r\n?/g,Ry=/\u0000|\uFFFD/g;function Nd(t){return(typeof t=="string"?t:""+t).replace(Cy,`
`).replace(Ry,"")}function qa(t,r,o){if(r=Nd(r),Nd(t)!==r&&o)throw Error(n(425))}function Wa(){}var Ou=null,Fu=null;function zu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Uu=typeof setTimeout=="function"?setTimeout:void 0,Py=typeof clearTimeout=="function"?clearTimeout:void 0,Dd=typeof Promise=="function"?Promise:void 0,ky=typeof queueMicrotask=="function"?queueMicrotask:typeof Dd<"u"?function(t){return Dd.resolve(null).then(t).catch(xy)}:Uu;function xy(t){setTimeout(function(){throw t})}function ju(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),An(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);An(r)}function Vr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Ld(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ps=Math.random().toString(36).slice(2),jn="__reactFiber$"+ps,Vo="__reactProps$"+ps,or="__reactContainer$"+ps,Bu="__reactEvents$"+ps,Vy="__reactListeners$"+ps,Ny="__reactHandles$"+ps;function yi(t){var r=t[jn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[or]||o[jn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Ld(t);t!==null;){if(o=t[jn])return o;t=Ld(t)}return r}t=o,o=t.parentNode}return null}function No(t){return t=t[jn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ha(t){return t[Vo]||null}var $u=[],gs=-1;function Nr(t){return{current:t}}function Qe(t){0>gs||(t.current=$u[gs],$u[gs]=null,gs--)}function He(t,r){gs++,$u[gs]=t.current,t.current=r}var Dr={},Nt=Nr(Dr),Wt=Nr(!1),vi=Dr;function ys(t,r){var o=t.type.contextTypes;if(!o)return Dr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(t){return t=t.childContextTypes,t!=null}function Ga(){Qe(Wt),Qe(Nt)}function Md(t,r,o){if(Nt.current!==Dr)throw Error(n(168));He(Nt,r),He(Wt,o)}function bd(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Oe(t)||"Unknown",h));return Z({},o,u)}function Qa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,vi=Nt.current,He(Nt,t),He(Wt,Wt.current),!0}function Od(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=bd(t,r,vi),u.__reactInternalMemoizedMergedChildContext=t,Qe(Wt),Qe(Nt),He(Nt,t)):Qe(Wt),He(Wt,o)}var ar=null,Ka=!1,qu=!1;function Fd(t){ar===null?ar=[t]:ar.push(t)}function Dy(t){Ka=!0,Fd(t)}function Lr(){if(!qu&&ar!==null){qu=!0;var t=0,r=Pe;try{var o=ar;for(Pe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ar=null,Ka=!1}catch(h){throw ar!==null&&(ar=ar.slice(t+1)),Xi(ui,Lr),h}finally{Pe=r,qu=!1}}return null}var vs=[],_s=0,Xa=null,Ya=0,dn=[],fn=0,_i=null,lr=1,ur="";function Ei(t,r){vs[_s++]=Ya,vs[_s++]=Xa,Xa=t,Ya=r}function zd(t,r,o){dn[fn++]=lr,dn[fn++]=ur,dn[fn++]=_i,_i=t;var u=lr;t=ur;var h=32-zt(u)-1;u&=~(1<<h),o+=1;var p=32-zt(r)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,lr=1<<32-zt(r)+h|o<<h|u,ur=p+t}else lr=1<<p|o<<h|u,ur=t}function Wu(t){t.return!==null&&(Ei(t,1),zd(t,1,0))}function Hu(t){for(;t===Xa;)Xa=vs[--_s],vs[_s]=null,Ya=vs[--_s],vs[_s]=null;for(;t===_i;)_i=dn[--fn],dn[fn]=null,ur=dn[--fn],dn[fn]=null,lr=dn[--fn],dn[fn]=null}var rn=null,sn=null,Ye=!1,Pn=null;function Ud(t,r){var o=yn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function jd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,rn=t,sn=Vr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,rn=t,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=_i!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=yn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,rn=t,sn=null,!0):!1;default:return!1}}function Gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qu(t){if(Ye){var r=sn;if(r){var o=r;if(!jd(t,r)){if(Gu(t))throw Error(n(418));r=Vr(o.nextSibling);var u=rn;r&&jd(t,r)?Ud(u,o):(t.flags=t.flags&-4097|2,Ye=!1,rn=t)}}else{if(Gu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ye=!1,rn=t}}}function Bd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Ja(t){if(t!==rn)return!1;if(!Ye)return Bd(t),Ye=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!zu(t.type,t.memoizedProps)),r&&(r=sn)){if(Gu(t))throw $d(),Error(n(418));for(;r;)Ud(t,r),r=Vr(r.nextSibling)}if(Bd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){sn=Vr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}sn=null}}else sn=rn?Vr(t.stateNode.nextSibling):null;return!0}function $d(){for(var t=sn;t;)t=Vr(t.nextSibling)}function Es(){sn=rn=null,Ye=!1}function Ku(t){Pn===null?Pn=[t]:Pn.push(t)}var Ly=ye.ReactCurrentBatchConfig;function Do(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var T=h.refs;v===null?delete T[p]:T[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Za(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function qd(t){var r=t._init;return r(t._payload)}function Wd(t){function r(b,k){if(t){var O=b.deletions;O===null?(b.deletions=[k],b.flags|=16):O.push(k)}}function o(b,k){if(!t)return null;for(;k!==null;)r(b,k),k=k.sibling;return null}function u(b,k){for(b=new Map;k!==null;)k.key!==null?b.set(k.key,k):b.set(k.index,k),k=k.sibling;return b}function h(b,k){return b=Br(b,k),b.index=0,b.sibling=null,b}function p(b,k,O){return b.index=O,t?(O=b.alternate,O!==null?(O=O.index,O<k?(b.flags|=2,k):O):(b.flags|=2,k)):(b.flags|=1048576,k)}function v(b){return t&&b.alternate===null&&(b.flags|=2),b}function T(b,k,O,X){return k===null||k.tag!==6?(k=Uc(O,b.mode,X),k.return=b,k):(k=h(k,O),k.return=b,k)}function C(b,k,O,X){var oe=O.type;return oe===V?H(b,k,O.props.children,X,O.key):k!==null&&(k.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===rt&&qd(oe)===k.type)?(X=h(k,O.props),X.ref=Do(b,k,O),X.return=b,X):(X=Il(O.type,O.key,O.props,null,b.mode,X),X.ref=Do(b,k,O),X.return=b,X)}function F(b,k,O,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==O.containerInfo||k.stateNode.implementation!==O.implementation?(k=jc(O,b.mode,X),k.return=b,k):(k=h(k,O.children||[]),k.return=b,k)}function H(b,k,O,X,oe){return k===null||k.tag!==7?(k=Pi(O,b.mode,X,oe),k.return=b,k):(k=h(k,O),k.return=b,k)}function Q(b,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Uc(""+k,b.mode,O),k.return=b,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Be:return O=Il(k.type,k.key,k.props,null,b.mode,O),O.ref=Do(b,null,k),O.return=b,O;case Ae:return k=jc(k,b.mode,O),k.return=b,k;case rt:var X=k._init;return Q(b,X(k._payload),O)}if(Yn(k)||ae(k))return k=Pi(k,b.mode,O,null),k.return=b,k;Za(b,k)}return null}function W(b,k,O,X){var oe=k!==null?k.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return oe!==null?null:T(b,k,""+O,X);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Be:return O.key===oe?C(b,k,O,X):null;case Ae:return O.key===oe?F(b,k,O,X):null;case rt:return oe=O._init,W(b,k,oe(O._payload),X)}if(Yn(O)||ae(O))return oe!==null?null:H(b,k,O,X,null);Za(b,O)}return null}function ee(b,k,O,X,oe){if(typeof X=="string"&&X!==""||typeof X=="number")return b=b.get(O)||null,T(k,b,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Be:return b=b.get(X.key===null?O:X.key)||null,C(k,b,X,oe);case Ae:return b=b.get(X.key===null?O:X.key)||null,F(k,b,X,oe);case rt:var ce=X._init;return ee(b,k,O,ce(X._payload),oe)}if(Yn(X)||ae(X))return b=b.get(O)||null,H(k,b,X,oe,null);Za(k,X)}return null}function ie(b,k,O,X){for(var oe=null,ce=null,he=k,me=k=0,It=null;he!==null&&me<O.length;me++){he.index>me?(It=he,he=null):It=he.sibling;var Me=W(b,he,O[me],X);if(Me===null){he===null&&(he=It);break}t&&he&&Me.alternate===null&&r(b,he),k=p(Me,k,me),ce===null?oe=Me:ce.sibling=Me,ce=Me,he=It}if(me===O.length)return o(b,he),Ye&&Ei(b,me),oe;if(he===null){for(;me<O.length;me++)he=Q(b,O[me],X),he!==null&&(k=p(he,k,me),ce===null?oe=he:ce.sibling=he,ce=he);return Ye&&Ei(b,me),oe}for(he=u(b,he);me<O.length;me++)It=ee(he,b,me,O[me],X),It!==null&&(t&&It.alternate!==null&&he.delete(It.key===null?me:It.key),k=p(It,k,me),ce===null?oe=It:ce.sibling=It,ce=It);return t&&he.forEach(function($r){return r(b,$r)}),Ye&&Ei(b,me),oe}function se(b,k,O,X){var oe=ae(O);if(typeof oe!="function")throw Error(n(150));if(O=oe.call(O),O==null)throw Error(n(151));for(var ce=oe=null,he=k,me=k=0,It=null,Me=O.next();he!==null&&!Me.done;me++,Me=O.next()){he.index>me?(It=he,he=null):It=he.sibling;var $r=W(b,he,Me.value,X);if($r===null){he===null&&(he=It);break}t&&he&&$r.alternate===null&&r(b,he),k=p($r,k,me),ce===null?oe=$r:ce.sibling=$r,ce=$r,he=It}if(Me.done)return o(b,he),Ye&&Ei(b,me),oe;if(he===null){for(;!Me.done;me++,Me=O.next())Me=Q(b,Me.value,X),Me!==null&&(k=p(Me,k,me),ce===null?oe=Me:ce.sibling=Me,ce=Me);return Ye&&Ei(b,me),oe}for(he=u(b,he);!Me.done;me++,Me=O.next())Me=ee(he,b,me,Me.value,X),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?me:Me.key),k=p(Me,k,me),ce===null?oe=Me:ce.sibling=Me,ce=Me);return t&&he.forEach(function(dv){return r(b,dv)}),Ye&&Ei(b,me),oe}function st(b,k,O,X){if(typeof O=="object"&&O!==null&&O.type===V&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Be:e:{for(var oe=O.key,ce=k;ce!==null;){if(ce.key===oe){if(oe=O.type,oe===V){if(ce.tag===7){o(b,ce.sibling),k=h(ce,O.props.children),k.return=b,b=k;break e}}else if(ce.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===rt&&qd(oe)===ce.type){o(b,ce.sibling),k=h(ce,O.props),k.ref=Do(b,ce,O),k.return=b,b=k;break e}o(b,ce);break}else r(b,ce);ce=ce.sibling}O.type===V?(k=Pi(O.props.children,b.mode,X,O.key),k.return=b,b=k):(X=Il(O.type,O.key,O.props,null,b.mode,X),X.ref=Do(b,k,O),X.return=b,b=X)}return v(b);case Ae:e:{for(ce=O.key;k!==null;){if(k.key===ce)if(k.tag===4&&k.stateNode.containerInfo===O.containerInfo&&k.stateNode.implementation===O.implementation){o(b,k.sibling),k=h(k,O.children||[]),k.return=b,b=k;break e}else{o(b,k);break}else r(b,k);k=k.sibling}k=jc(O,b.mode,X),k.return=b,b=k}return v(b);case rt:return ce=O._init,st(b,k,ce(O._payload),X)}if(Yn(O))return ie(b,k,O,X);if(ae(O))return se(b,k,O,X);Za(b,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,k!==null&&k.tag===6?(o(b,k.sibling),k=h(k,O),k.return=b,b=k):(o(b,k),k=Uc(O,b.mode,X),k.return=b,b=k),v(b)):o(b,k)}return st}var ws=Wd(!0),Hd=Wd(!1),el=Nr(null),tl=null,Ts=null,Xu=null;function Yu(){Xu=Ts=tl=null}function Ju(t){var r=el.current;Qe(el),t._currentValue=r}function Zu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Is(t,r){tl=t,Xu=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Gt=!0),t.firstContext=null)}function pn(t){var r=t._currentValue;if(Xu!==t)if(t={context:t,memoizedValue:r,next:null},Ts===null){if(tl===null)throw Error(n(308));Ts=t,tl.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return r}var wi=null;function ec(t){wi===null?wi=[t]:wi.push(t)}function Gd(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,ec(r)):(o.next=h.next,h.next=o),r.interleaved=o,cr(t,u)}function cr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Mr=!1;function tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function br(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Le&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,cr(t,o)}return h=u.interleaved,h===null?(r.next=r,ec(u)):(r.next=h.next,h.next=r),u.interleaved=r,cr(t,o)}function nl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}function Kd(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function rl(t,r,o,u){var h=t.updateQueue;Mr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,F=C.next;C.next=null,v===null?p=F:v.next=F,v=C;var H=t.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==v&&(T===null?H.firstBaseUpdate=F:T.next=F,H.lastBaseUpdate=C))}if(p!==null){var Q=h.baseState;v=0,H=F=C=null,T=p;do{var W=T.lane,ee=T.eventTime;if((u&W)===W){H!==null&&(H=H.next={eventTime:ee,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ie=t,se=T;switch(W=r,ee=o,se.tag){case 1:if(ie=se.payload,typeof ie=="function"){Q=ie.call(ee,Q,W);break e}Q=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,W=typeof ie=="function"?ie.call(ee,Q,W):ie,W==null)break e;Q=Z({},Q,W);break e;case 2:Mr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,W=h.effects,W===null?h.effects=[T]:W.push(T))}else ee={eventTime:ee,lane:W,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(F=H=ee,C=Q):H=H.next=ee,v|=W;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;W=T,T=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);if(H===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=F,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Si|=v,t.lanes=v,t.memoizedState=Q}}function Xd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Lo={},Bn=Nr(Lo),Mo=Nr(Lo),bo=Nr(Lo);function Ti(t){if(t===Lo)throw Error(n(174));return t}function nc(t,r){switch(He(bo,r),He(Mo,t),He(Bn,Lo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:dt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=dt(r,t)}Qe(Bn),He(Bn,r)}function Ss(){Qe(Bn),Qe(Mo),Qe(bo)}function Yd(t){Ti(bo.current);var r=Ti(Bn.current),o=dt(r,t.type);r!==o&&(He(Mo,t),He(Bn,o))}function rc(t){Mo.current===t&&(Qe(Bn),Qe(Mo))}var Je=Nr(0);function il(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ic=[];function sc(){for(var t=0;t<ic.length;t++)ic[t]._workInProgressVersionPrimary=null;ic.length=0}var sl=ye.ReactCurrentDispatcher,oc=ye.ReactCurrentBatchConfig,Ii=0,Ze=null,pt=null,wt=null,ol=!1,Oo=!1,Fo=0,My=0;function Dt(){throw Error(n(321))}function ac(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Rn(t[o],r[o]))return!1;return!0}function lc(t,r,o,u,h,p){if(Ii=p,Ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,sl.current=t===null||t.memoizedState===null?zy:Uy,t=o(u,h),Oo){p=0;do{if(Oo=!1,Fo=0,25<=p)throw Error(n(301));p+=1,wt=pt=null,r.updateQueue=null,sl.current=jy,t=o(u,h)}while(Oo)}if(sl.current=ul,r=pt!==null&&pt.next!==null,Ii=0,wt=pt=Ze=null,ol=!1,r)throw Error(n(300));return t}function uc(){var t=Fo!==0;return Fo=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=t:wt=wt.next=t,wt}function mn(){if(pt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var r=wt===null?Ze.memoizedState:wt.next;if(r!==null)wt=r,pt=t;else{if(t===null)throw Error(n(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?Ze.memoizedState=wt=t:wt=wt.next=t}return wt}function zo(t,r){return typeof r=="function"?r(t):r}function cc(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=pt,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var T=v=null,C=null,F=p;do{var H=F.lane;if((Ii&H)===H)C!==null&&(C=C.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:t(u,F.action);else{var Q={lane:H,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};C===null?(T=C=Q,v=u):C=C.next=Q,Ze.lanes|=H,Si|=H}F=F.next}while(F!==null&&F!==p);C===null?v=u:C.next=T,Rn(u,r.memoizedState)||(Gt=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=C,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ze.lanes|=p,Si|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function hc(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);Rn(p,r.memoizedState)||(Gt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Jd(){}function Zd(t,r){var o=Ze,u=mn(),h=r(),p=!Rn(u.memoizedState,h);if(p&&(u.memoizedState=h,Gt=!0),u=u.queue,dc(nf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Uo(9,tf.bind(null,o,u,h,r),void 0,null),Tt===null)throw Error(n(349));Ii&30||ef(o,r,h)}return h}function ef(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function tf(t,r,o,u){r.value=o,r.getSnapshot=u,rf(r)&&sf(t)}function nf(t,r,o){return o(function(){rf(r)&&sf(t)})}function rf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Rn(t,o)}catch{return!0}}function sf(t){var r=cr(t,1);r!==null&&Nn(r,t,1,-1)}function of(t){var r=$n();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:t},r.queue=t,t=t.dispatch=Fy.bind(null,Ze,t),[r.memoizedState,t]}function Uo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function af(){return mn().memoizedState}function al(t,r,o,u){var h=$n();Ze.flags|=t,h.memoizedState=Uo(1|r,o,void 0,u===void 0?null:u)}function ll(t,r,o,u){var h=mn();u=u===void 0?null:u;var p=void 0;if(pt!==null){var v=pt.memoizedState;if(p=v.destroy,u!==null&&ac(u,v.deps)){h.memoizedState=Uo(r,o,p,u);return}}Ze.flags|=t,h.memoizedState=Uo(1|r,o,p,u)}function lf(t,r){return al(8390656,8,t,r)}function dc(t,r){return ll(2048,8,t,r)}function uf(t,r){return ll(4,2,t,r)}function cf(t,r){return ll(4,4,t,r)}function hf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function df(t,r,o){return o=o!=null?o.concat([t]):null,ll(4,4,hf.bind(null,r,t),o)}function fc(){}function ff(t,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ac(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function pf(t,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ac(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function mf(t,r,o){return Ii&21?(Rn(o,r)||(o=di(),Ze.lanes|=o,Si|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=o)}function by(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var u=oc.transition;oc.transition={};try{t(!1),r()}finally{Pe=o,oc.transition=u}}function gf(){return mn().memoizedState}function Oy(t,r,o){var u=Ur(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},yf(t))vf(r,o);else if(o=Gd(t,r,o,u),o!==null){var h=Bt();Nn(o,t,u,h),_f(o,r,u)}}function Fy(t,r,o){var u=Ur(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(yf(t))vf(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,T=p(v,o);if(h.hasEagerState=!0,h.eagerState=T,Rn(T,v)){var C=r.interleaved;C===null?(h.next=h,ec(r)):(h.next=C.next,C.next=h),r.interleaved=h;return}}catch{}finally{}o=Gd(t,r,h,u),o!==null&&(h=Bt(),Nn(o,t,u,h),_f(o,r,u))}}function yf(t){var r=t.alternate;return t===Ze||r!==null&&r===Ze}function vf(t,r){Oo=ol=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function _f(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}var ul={readContext:pn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},zy={readContext:pn,useCallback:function(t,r){return $n().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:lf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,al(4194308,4,hf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return al(4194308,4,t,r)},useInsertionEffect:function(t,r){return al(4,2,t,r)},useMemo:function(t,r){var o=$n();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=$n();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Oy.bind(null,Ze,t),[u.memoizedState,t]},useRef:function(t){var r=$n();return t={current:t},r.memoizedState=t},useState:of,useDebugValue:fc,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=of(!1),r=t[0];return t=by.bind(null,t[1]),$n().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ze,h=$n();if(Ye){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Tt===null)throw Error(n(349));Ii&30||ef(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,lf(nf.bind(null,u,p,t),[t]),u.flags|=2048,Uo(9,tf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=$n(),r=Tt.identifierPrefix;if(Ye){var o=ur,u=lr;o=(u&~(1<<32-zt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Fo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=My++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Uy={readContext:pn,useCallback:ff,useContext:pn,useEffect:dc,useImperativeHandle:df,useInsertionEffect:uf,useLayoutEffect:cf,useMemo:pf,useReducer:cc,useRef:af,useState:function(){return cc(zo)},useDebugValue:fc,useDeferredValue:function(t){var r=mn();return mf(r,pt.memoizedState,t)},useTransition:function(){var t=cc(zo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:Jd,useSyncExternalStore:Zd,useId:gf,unstable_isNewReconciler:!1},jy={readContext:pn,useCallback:ff,useContext:pn,useEffect:dc,useImperativeHandle:df,useInsertionEffect:uf,useLayoutEffect:cf,useMemo:pf,useReducer:hc,useRef:af,useState:function(){return hc(zo)},useDebugValue:fc,useDeferredValue:function(t){var r=mn();return pt===null?r.memoizedState=t:mf(r,pt.memoizedState,t)},useTransition:function(){var t=hc(zo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:Jd,useSyncExternalStore:Zd,useId:gf,unstable_isNewReconciler:!1};function kn(t,r){if(t&&t.defaultProps){r=Z({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function pc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:Z({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var cl={isMounted:function(t){return(t=t._reactInternals)?En(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Bt(),h=Ur(t),p=hr(u,h);p.payload=r,o!=null&&(p.callback=o),r=br(t,p,h),r!==null&&(Nn(r,t,h,u),nl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Bt(),h=Ur(t),p=hr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=br(t,p,h),r!==null&&(Nn(r,t,h,u),nl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Bt(),u=Ur(t),h=hr(o,u);h.tag=2,r!=null&&(h.callback=r),r=br(t,h,u),r!==null&&(Nn(r,t,u,o),nl(r,t,u))}};function Ef(t,r,o,u,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!Co(o,u)||!Co(h,p):!0}function wf(t,r,o){var u=!1,h=Dr,p=r.contextType;return typeof p=="object"&&p!==null?p=pn(p):(h=Ht(r)?vi:Nt.current,u=r.contextTypes,p=(u=u!=null)?ys(t,h):Dr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=cl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Tf(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&cl.enqueueReplaceState(r,r.state,null)}function mc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},tc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=pn(p):(p=Ht(r)?vi:Nt.current,h.context=ys(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(pc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&cl.enqueueReplaceState(h,h.state,null),rl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function As(t,r){try{var o="",u=r;do o+=Ie(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function gc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function yc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var By=typeof WeakMap=="function"?WeakMap:Map;function If(t,r,o){o=hr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){yl||(yl=!0,Nc=u),yc(t,r)},o}function Sf(t,r,o){o=hr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){yc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){yc(t,r),typeof u!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function Af(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new By;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=nv.bind(null,t,r,o),r.then(t,t))}function Cf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Rf(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=hr(-1,1),r.tag=2,br(o,r,1))),o.lanes|=1),t)}var $y=ye.ReactCurrentOwner,Gt=!1;function jt(t,r,o,u){r.child=t===null?Hd(r,null,o,u):ws(r,t.child,o,u)}function Pf(t,r,o,u,h){o=o.render;var p=r.ref;return Is(r,h),u=lc(t,r,o,u,p,h),o=uc(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(Ye&&o&&Wu(r),r.flags|=1,jt(t,r,u,h),r.child)}function kf(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!zc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,xf(t,r,p,u,h)):(t=Il(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Co,o(v,u)&&t.ref===r.ref)return dr(t,r,h)}return r.flags|=1,t=Br(p,u),t.ref=r.ref,t.return=r,r.child=t}function xf(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Co(p,u)&&t.ref===r.ref)if(Gt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Gt=!0);else return r.lanes=t.lanes,dr(t,r,h)}return vc(t,r,o,u,h)}function Vf(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Rs,on),on|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Rs,on),on|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,He(Rs,on),on|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,He(Rs,on),on|=u;return jt(t,r,h,o),r.child}function Nf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function vc(t,r,o,u,h){var p=Ht(o)?vi:Nt.current;return p=ys(r,p),Is(r,h),o=lc(t,r,o,u,p,h),u=uc(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(Ye&&u&&Wu(r),r.flags|=1,jt(t,r,o,h),r.child)}function Df(t,r,o,u,h){if(Ht(o)){var p=!0;Qa(r)}else p=!1;if(Is(r,h),r.stateNode===null)dl(t,r),wf(r,o,u),mc(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,T=r.memoizedProps;v.props=T;var C=v.context,F=o.contextType;typeof F=="object"&&F!==null?F=pn(F):(F=Ht(o)?vi:Nt.current,F=ys(r,F));var H=o.getDerivedStateFromProps,Q=typeof H=="function"||typeof v.getSnapshotBeforeUpdate=="function";Q||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==u||C!==F)&&Tf(r,v,u,F),Mr=!1;var W=r.memoizedState;v.state=W,rl(r,u,v,h),C=r.memoizedState,T!==u||W!==C||Wt.current||Mr?(typeof H=="function"&&(pc(r,o,H,u),C=r.memoizedState),(T=Mr||Ef(r,o,T,u,W,C,F))?(Q||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=C),v.props=u,v.state=C,v.context=F,u=T):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Qd(t,r),T=r.memoizedProps,F=r.type===r.elementType?T:kn(r.type,T),v.props=F,Q=r.pendingProps,W=v.context,C=o.contextType,typeof C=="object"&&C!==null?C=pn(C):(C=Ht(o)?vi:Nt.current,C=ys(r,C));var ee=o.getDerivedStateFromProps;(H=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==Q||W!==C)&&Tf(r,v,u,C),Mr=!1,W=r.memoizedState,v.state=W,rl(r,u,v,h);var ie=r.memoizedState;T!==Q||W!==ie||Wt.current||Mr?(typeof ee=="function"&&(pc(r,o,ee,u),ie=r.memoizedState),(F=Mr||Ef(r,o,F,u,W,ie,C)||!1)?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ie,C),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ie,C)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&W===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&W===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),v.props=u,v.state=ie,v.context=C,u=F):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&W===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&W===t.memoizedState||(r.flags|=1024),u=!1)}return _c(t,r,o,u,p,h)}function _c(t,r,o,u,h,p){Nf(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&Od(r,o,!1),dr(t,r,p);u=r.stateNode,$y.current=r;var T=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=ws(r,t.child,null,p),r.child=ws(r,null,T,p)):jt(t,r,T,p),r.memoizedState=u.state,h&&Od(r,o,!0),r.child}function Lf(t){var r=t.stateNode;r.pendingContext?Md(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Md(t,r.context,!1),nc(t,r.containerInfo)}function Mf(t,r,o,u,h){return Es(),Ku(h),r.flags|=256,jt(t,r,o,u),r.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function wc(t){return{baseLanes:t,cachePool:null,transitions:null}}function bf(t,r,o){var u=r.pendingProps,h=Je.current,p=!1,v=(r.flags&128)!==0,T;if((T=v)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),He(Je,h&1),t===null)return Qu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Sl(v,u,0,null),t=Pi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=wc(o),r.memoizedState=Ec,t):Tc(r,v));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return qy(t,r,v,u,T,h,o);if(p){p=u.fallback,v=r.mode,h=t.child,T=h.sibling;var C={mode:"hidden",children:u.children};return!(v&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=C,r.deletions=null):(u=Br(h,C),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?p=Br(T,p):(p=Pi(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?wc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=Ec,u}return p=t.child,t=p.sibling,u=Br(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Tc(t,r){return r=Sl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function hl(t,r,o,u){return u!==null&&Ku(u),ws(r,t.child,null,o),t=Tc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function qy(t,r,o,u,h,p,v){if(o)return r.flags&256?(r.flags&=-257,u=gc(Error(n(422))),hl(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Sl({mode:"visible",children:u.children},h,0,null),p=Pi(p,h,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&ws(r,t.child,null,v),r.child.memoizedState=wc(v),r.memoizedState=Ec,p);if(!(r.mode&1))return hl(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,p=Error(n(419)),u=gc(p,u,void 0),hl(t,r,v,u)}if(T=(v&t.childLanes)!==0,Gt||T){if(u=Tt,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|v)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,cr(t,h),Nn(u,t,h,-1))}return Fc(),u=gc(Error(n(421))),hl(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=rv.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,sn=Vr(h.nextSibling),rn=r,Ye=!0,Pn=null,t!==null&&(dn[fn++]=lr,dn[fn++]=ur,dn[fn++]=_i,lr=t.id,ur=t.overflow,_i=r),r=Tc(r,u.children),r.flags|=4096,r)}function Of(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Zu(t.return,r,o)}function Ic(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Ff(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(jt(t,r,u.children,o),u=Je.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Of(t,o,r);else if(t.tag===19)Of(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(He(Je,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&il(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Ic(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&il(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ic(r,!0,o,null,p);break;case"together":Ic(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function dl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function dr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Si|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Br(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Br(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Wy(t,r,o){switch(r.tag){case 3:Lf(r),Es();break;case 5:Yd(r);break;case 1:Ht(r.type)&&Qa(r);break;case 4:nc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;He(el,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(He(Je,Je.current&1),r.flags|=128,null):o&r.child.childLanes?bf(t,r,o):(He(Je,Je.current&1),t=dr(t,r,o),t!==null?t.sibling:null);He(Je,Je.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Ff(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),He(Je,Je.current),u)break;return null;case 22:case 23:return r.lanes=0,Vf(t,r,o)}return dr(t,r,o)}var zf,Sc,Uf,jf;zf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Sc=function(){},Uf=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ti(Bn.current);var p=null;switch(o){case"input":h=ti(t,h),u=ti(t,u),p=[];break;case"select":h=Z({},h,{value:void 0}),u=Z({},u,{value:void 0}),p=[];break;case"textarea":h=eo(t,h),u=eo(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Wa)}oo(o,u);var v;o=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var T=h[F];for(v in T)T.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in u){var C=u[F];if(T=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&C!==T&&(C!=null||T!=null))if(F==="style")if(T){for(v in T)!T.hasOwnProperty(v)||C&&C.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in C)C.hasOwnProperty(v)&&T[v]!==C[v]&&(o||(o={}),o[v]=C[v])}else o||(p||(p=[]),p.push(F,o)),o=C;else F==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,T=T?T.__html:void 0,C!=null&&T!==C&&(p=p||[]).push(F,C)):F==="children"?typeof C!="string"&&typeof C!="number"||(p=p||[]).push(F,""+C):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(C!=null&&F==="onScroll"&&Ge("scroll",t),p||T===C||(p=[])):(p=p||[]).push(F,C))}o&&(p=p||[]).push("style",o);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},jf=function(t,r,o,u){o!==u&&(r.flags|=4)};function jo(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Hy(t,r,o){var u=r.pendingProps;switch(Hu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(r),null;case 1:return Ht(r.type)&&Ga(),Lt(r),null;case 3:return u=r.stateNode,Ss(),Qe(Wt),Qe(Nt),sc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ja(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Pn!==null&&(Mc(Pn),Pn=null))),Sc(t,r),Lt(r),null;case 5:rc(r);var h=Ti(bo.current);if(o=r.type,t!==null&&r.stateNode!=null)Uf(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Lt(r),null}if(t=Ti(Bn.current),Ja(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[jn]=r,u[Vo]=p,t=(r.mode&1)!==0,o){case"dialog":Ge("cancel",u),Ge("close",u);break;case"iframe":case"object":case"embed":Ge("load",u);break;case"video":case"audio":for(h=0;h<Po.length;h++)Ge(Po[h],u);break;case"source":Ge("error",u);break;case"img":case"image":case"link":Ge("error",u),Ge("load",u);break;case"details":Ge("toggle",u);break;case"input":zi(u,p),Ge("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Ge("invalid",u);break;case"textarea":ji(u,p),Ge("invalid",u)}oo(o,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var T=p[v];v==="children"?typeof T=="string"?u.textContent!==T&&(p.suppressHydrationWarning!==!0&&qa(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&qa(u.textContent,T,t),h=["children",""+T]):a.hasOwnProperty(v)&&T!=null&&v==="onScroll"&&Ge("scroll",u)}switch(o){case"input":Xn(u),ga(u,p,!0);break;case"textarea":Xn(u),to(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Wa)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ht(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[jn]=r,t[Vo]=u,zf(t,r,!1,!1),r.stateNode=t;e:{switch(v=ao(o,u),o){case"dialog":Ge("cancel",t),Ge("close",t),h=u;break;case"iframe":case"object":case"embed":Ge("load",t),h=u;break;case"video":case"audio":for(h=0;h<Po.length;h++)Ge(Po[h],t);h=u;break;case"source":Ge("error",t),h=u;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),h=u;break;case"details":Ge("toggle",t),h=u;break;case"input":zi(t,u),h=ti(t,u),Ge("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=Z({},u,{value:void 0}),Ge("invalid",t);break;case"textarea":ji(t,u),h=eo(t,u),Ge("invalid",t);break;default:h=u}oo(o,h),T=h;for(p in T)if(T.hasOwnProperty(p)){var C=T[p];p==="style"?io(t,C):p==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&no(t,C)):p==="children"?typeof C=="string"?(o!=="textarea"||C!=="")&&Er(t,C):typeof C=="number"&&Er(t,""+C):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?C!=null&&p==="onScroll"&&Ge("scroll",t):C!=null&&pe(t,p,C,v))}switch(o){case"input":Xn(t),ga(t,u,!1);break;case"textarea":Xn(t),to(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Fe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Jn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Jn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Wa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Lt(r),null;case 6:if(t&&r.stateNode!=null)jf(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ti(bo.current),Ti(Bn.current),Ja(r)){if(u=r.stateNode,o=r.memoizedProps,u[jn]=r,(p=u.nodeValue!==o)&&(t=rn,t!==null))switch(t.tag){case 3:qa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[jn]=r,r.stateNode=u}return Lt(r),null;case 13:if(Qe(Je),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&sn!==null&&r.mode&1&&!(r.flags&128))$d(),Es(),r.flags|=98560,p=!1;else if(p=Ja(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[jn]=r}else Es(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Lt(r),p=!1}else Pn!==null&&(Mc(Pn),Pn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Je.current&1?mt===0&&(mt=3):Fc())),r.updateQueue!==null&&(r.flags|=4),Lt(r),null);case 4:return Ss(),Sc(t,r),t===null&&ko(r.stateNode.containerInfo),Lt(r),null;case 10:return Ju(r.type._context),Lt(r),null;case 17:return Ht(r.type)&&Ga(),Lt(r),null;case 19:if(Qe(Je),p=r.memoizedState,p===null)return Lt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)jo(p,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=il(t),v!==null){for(r.flags|=128,jo(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Je,Je.current&1|2),r.child}t=t.sibling}p.tail!==null&&We()>Ps&&(r.flags|=128,u=!0,jo(p,!1),r.lanes=4194304)}else{if(!u)if(t=il(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),jo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ye)return Lt(r),null}else 2*We()-p.renderingStartTime>Ps&&o!==1073741824&&(r.flags|=128,u=!0,jo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=We(),r.sibling=null,o=Je.current,He(Je,u?o&1|2:o&1),r):(Lt(r),null);case 22:case 23:return Oc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?on&1073741824&&(Lt(r),r.subtreeFlags&6&&(r.flags|=8192)):Lt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Gy(t,r){switch(Hu(r),r.tag){case 1:return Ht(r.type)&&Ga(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ss(),Qe(Wt),Qe(Nt),sc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return rc(r),null;case 13:if(Qe(Je),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Es()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Qe(Je),null;case 4:return Ss(),null;case 10:return Ju(r.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var fl=!1,Mt=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Cs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){tt(t,r,u)}else o.current=null}function Ac(t,r,o){try{o()}catch(u){tt(t,r,u)}}var Bf=!1;function Ky(t,r){if(Ou=Pr,t=_d(),ku(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,T=-1,C=-1,F=0,H=0,Q=t,W=null;t:for(;;){for(var ee;Q!==o||h!==0&&Q.nodeType!==3||(T=v+h),Q!==p||u!==0&&Q.nodeType!==3||(C=v+u),Q.nodeType===3&&(v+=Q.nodeValue.length),(ee=Q.firstChild)!==null;)W=Q,Q=ee;for(;;){if(Q===t)break t;if(W===o&&++F===h&&(T=v),W===p&&++H===u&&(C=v),(ee=Q.nextSibling)!==null)break;Q=W,W=Q.parentNode}Q=ee}o=T===-1||C===-1?null:{start:T,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fu={focusedElem:t,selectionRange:o},Pr=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var ie=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var se=ie.memoizedProps,st=ie.memoizedState,b=r.stateNode,k=b.getSnapshotBeforeUpdate(r.elementType===r.type?se:kn(r.type,se),st);b.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){tt(r,r.return,X)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return ie=Bf,Bf=!1,ie}function Bo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Ac(r,o,p)}h=h.next}while(h!==u)}}function pl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Cc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function $f(t){var r=t.alternate;r!==null&&(t.alternate=null,$f(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[jn],delete r[Vo],delete r[Bu],delete r[Vy],delete r[Ny])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qf(t){return t.tag===5||t.tag===3||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Wa));else if(u!==4&&(t=t.child,t!==null))for(Rc(t,r,o),t=t.sibling;t!==null;)Rc(t,r,o),t=t.sibling}function Pc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Pc(t,r,o),t=t.sibling;t!==null;)Pc(t,r,o),t=t.sibling}var Rt=null,xn=!1;function Or(t,r,o){for(o=o.child;o!==null;)Hf(t,r,o),o=o.sibling}function Hf(t,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ci,o)}catch{}switch(o.tag){case 5:Mt||Cs(o,r);case 6:var u=Rt,h=xn;Rt=null,Or(t,r,o),Rt=u,xn=h,Rt!==null&&(xn?(t=Rt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Rt.removeChild(o.stateNode));break;case 18:Rt!==null&&(xn?(t=Rt,o=o.stateNode,t.nodeType===8?ju(t.parentNode,o):t.nodeType===1&&ju(t,o),An(t)):ju(Rt,o.stateNode));break;case 4:u=Rt,h=xn,Rt=o.stateNode.containerInfo,xn=!0,Or(t,r,o),Rt=u,xn=h;break;case 0:case 11:case 14:case 15:if(!Mt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&Ac(o,r,v),h=h.next}while(h!==u)}Or(t,r,o);break;case 1:if(!Mt&&(Cs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){tt(o,r,T)}Or(t,r,o);break;case 21:Or(t,r,o);break;case 22:o.mode&1?(Mt=(u=Mt)||o.memoizedState!==null,Or(t,r,o),Mt=u):Or(t,r,o);break;default:Or(t,r,o)}}function Gf(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Qy),r.forEach(function(u){var h=iv.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Vn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 5:Rt=T.stateNode,xn=!1;break e;case 3:Rt=T.stateNode.containerInfo,xn=!0;break e;case 4:Rt=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(Rt===null)throw Error(n(160));Hf(p,v,h),Rt=null,xn=!1;var C=h.alternate;C!==null&&(C.return=null),h.return=null}catch(F){tt(h,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Qf(r,t),r=r.sibling}function Qf(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(r,t),qn(t),u&4){try{Bo(3,t,t.return),pl(3,t)}catch(se){tt(t,t.return,se)}try{Bo(5,t,t.return)}catch(se){tt(t,t.return,se)}}break;case 1:Vn(r,t),qn(t),u&512&&o!==null&&Cs(o,o.return);break;case 5:if(Vn(r,t),qn(t),u&512&&o!==null&&Cs(o,o.return),t.flags&32){var h=t.stateNode;try{Er(h,"")}catch(se){tt(t,t.return,se)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,T=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Js(h,p),ao(T,v);var F=ao(T,p);for(v=0;v<C.length;v+=2){var H=C[v],Q=C[v+1];H==="style"?io(h,Q):H==="dangerouslySetInnerHTML"?no(h,Q):H==="children"?Er(h,Q):pe(h,H,Q,F)}switch(T){case"input":Zs(h,p);break;case"textarea":Bi(h,p);break;case"select":var W=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ee=p.value;ee!=null?Jn(h,!!p.multiple,ee,!1):W!==!!p.multiple&&(p.defaultValue!=null?Jn(h,!!p.multiple,p.defaultValue,!0):Jn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Vo]=p}catch(se){tt(t,t.return,se)}}break;case 6:if(Vn(r,t),qn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(se){tt(t,t.return,se)}}break;case 3:if(Vn(r,t),qn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{An(r.containerInfo)}catch(se){tt(t,t.return,se)}break;case 4:Vn(r,t),qn(t);break;case 13:Vn(r,t),qn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Vc=We())),u&4&&Gf(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Mt=(F=Mt)||H,Vn(r,t),Mt=F):Vn(r,t),qn(t),u&8192){if(F=t.memoizedState!==null,(t.stateNode.isHidden=F)&&!H&&t.mode&1)for(ne=t,H=t.child;H!==null;){for(Q=ne=H;ne!==null;){switch(W=ne,ee=W.child,W.tag){case 0:case 11:case 14:case 15:Bo(4,W,W.return);break;case 1:Cs(W,W.return);var ie=W.stateNode;if(typeof ie.componentWillUnmount=="function"){u=W,o=W.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(se){tt(u,o,se)}}break;case 5:Cs(W,W.return);break;case 22:if(W.memoizedState!==null){Yf(Q);continue}}ee!==null?(ee.return=W,ne=ee):Yf(Q)}H=H.sibling}e:for(H=null,Q=t;;){if(Q.tag===5){if(H===null){H=Q;try{h=Q.stateNode,F?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=Q.stateNode,C=Q.memoizedProps.style,v=C!=null&&C.hasOwnProperty("display")?C.display:null,T.style.display=ro("display",v))}catch(se){tt(t,t.return,se)}}}else if(Q.tag===6){if(H===null)try{Q.stateNode.nodeValue=F?"":Q.memoizedProps}catch(se){tt(t,t.return,se)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;H===Q&&(H=null),Q=Q.return}H===Q&&(H=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Vn(r,t),qn(t),u&4&&Gf(t);break;case 21:break;default:Vn(r,t),qn(t)}}function qn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(qf(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Er(h,""),u.flags&=-33);var p=Wf(t);Pc(t,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,T=Wf(t);Rc(t,T,v);break;default:throw Error(n(161))}}catch(C){tt(t,t.return,C)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Xy(t,r,o){ne=t,Kf(t)}function Kf(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||fl;if(!v){var T=h.alternate,C=T!==null&&T.memoizedState!==null||Mt;T=fl;var F=Mt;if(fl=v,(Mt=C)&&!F)for(ne=h;ne!==null;)v=ne,C=v.child,v.tag===22&&v.memoizedState!==null?Jf(h):C!==null?(C.return=v,ne=C):Jf(h);for(;p!==null;)ne=p,Kf(p),p=p.sibling;ne=h,fl=T,Mt=F}Xf(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ne=p):Xf(t)}}function Xf(t){for(;ne!==null;){var r=ne;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Mt||pl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Mt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:kn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Xd(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Xd(r,v,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var C=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&o.focus();break;case"img":C.src&&(o.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var H=F.memoizedState;if(H!==null){var Q=H.dehydrated;Q!==null&&An(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||r.flags&512&&Cc(r)}catch(W){tt(r,r.return,W)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Yf(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Jf(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{pl(4,r)}catch(C){tt(r,o,C)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(C){tt(r,h,C)}}var p=r.return;try{Cc(r)}catch(C){tt(r,p,C)}break;case 5:var v=r.return;try{Cc(r)}catch(C){tt(r,v,C)}}}catch(C){tt(r,r.return,C)}if(r===t){ne=null;break}var T=r.sibling;if(T!==null){T.return=r.return,ne=T;break}ne=r.return}}var Yy=Math.ceil,ml=ye.ReactCurrentDispatcher,kc=ye.ReactCurrentOwner,gn=ye.ReactCurrentBatchConfig,Le=0,Tt=null,lt=null,Pt=0,on=0,Rs=Nr(0),mt=0,$o=null,Si=0,gl=0,xc=0,qo=null,Qt=null,Vc=0,Ps=1/0,fr=null,yl=!1,Nc=null,Fr=null,vl=!1,zr=null,_l=0,Wo=0,Dc=null,El=-1,wl=0;function Bt(){return Le&6?We():El!==-1?El:El=We()}function Ur(t){return t.mode&1?Le&2&&Pt!==0?Pt&-Pt:Ly.transition!==null?(wl===0&&(wl=di()),wl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:_o(t.type)),t):1}function Nn(t,r,o,u){if(50<Wo)throw Wo=0,Dc=null,Error(n(185));Sr(t,o,u),(!(Le&2)||t!==Tt)&&(t===Tt&&(!(Le&2)&&(gl|=o),mt===4&&jr(t,Pt)),Kt(t,u),o===1&&Le===0&&!(r.mode&1)&&(Ps=We()+500,Ka&&Lr()))}function Kt(t,r){var o=t.callbackNode;tr(t,r);var u=hi(t,t===Tt?Pt:0);if(u===0)o!==null&&po(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&po(o),r===1)t.tag===0?Dy(ep.bind(null,t)):Fd(ep.bind(null,t)),ky(function(){!(Le&6)&&Lr()}),o=null;else{switch(Cr(u)){case 1:o=ui;break;case 4:o=wr;break;case 16:o=un;break;case 536870912:o=wa;break;default:o=un}o=lp(o,Zf.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Zf(t,r){if(El=-1,wl=0,Le&6)throw Error(n(327));var o=t.callbackNode;if(ks()&&t.callbackNode!==o)return null;var u=hi(t,t===Tt?Pt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Tl(t,u);else{r=u;var h=Le;Le|=2;var p=np();(Tt!==t||Pt!==r)&&(fr=null,Ps=We()+500,Ci(t,r));do try{ev();break}catch(T){tp(t,T)}while(!0);Yu(),ml.current=p,Le=h,lt!==null?r=0:(Tt=null,Pt=0,r=mt)}if(r!==0){if(r===2&&(h=en(t),h!==0&&(u=h,r=Lc(t,h))),r===1)throw o=$o,Ci(t,0),jr(t,u),Kt(t,We()),o;if(r===6)jr(t,u);else{if(h=t.current.alternate,!(u&30)&&!Jy(h)&&(r=Tl(t,u),r===2&&(p=en(t),p!==0&&(u=p,r=Lc(t,p))),r===1))throw o=$o,Ci(t,0),jr(t,u),Kt(t,We()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ri(t,Qt,fr);break;case 3:if(jr(t,u),(u&130023424)===u&&(r=Vc+500-We(),10<r)){if(hi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Bt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Uu(Ri.bind(null,t,Qt,fr),r);break}Ri(t,Qt,fr);break;case 4:if(jr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-zt(u);p=1<<v,v=r[v],v>h&&(h=v),u&=~p}if(u=h,u=We()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Yy(u/1960))-u,10<u){t.timeoutHandle=Uu(Ri.bind(null,t,Qt,fr),u);break}Ri(t,Qt,fr);break;case 5:Ri(t,Qt,fr);break;default:throw Error(n(329))}}}return Kt(t,We()),t.callbackNode===o?Zf.bind(null,t):null}function Lc(t,r){var o=qo;return t.current.memoizedState.isDehydrated&&(Ci(t,r).flags|=256),t=Tl(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&Mc(r)),t}function Mc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function Jy(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Rn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(t,r){for(r&=~xc,r&=~gl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-zt(r),u=1<<o;t[o]=-1,r&=~u}}function ep(t){if(Le&6)throw Error(n(327));ks();var r=hi(t,0);if(!(r&1))return Kt(t,We()),null;var o=Tl(t,r);if(t.tag!==0&&o===2){var u=en(t);u!==0&&(r=u,o=Lc(t,u))}if(o===1)throw o=$o,Ci(t,0),jr(t,r),Kt(t,We()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ri(t,Qt,fr),Kt(t,We()),null}function bc(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Ps=We()+500,Ka&&Lr())}}function Ai(t){zr!==null&&zr.tag===0&&!(Le&6)&&ks();var r=Le;Le|=1;var o=gn.transition,u=Pe;try{if(gn.transition=null,Pe=1,t)return t()}finally{Pe=u,gn.transition=o,Le=r,!(Le&6)&&Lr()}}function Oc(){on=Rs.current,Qe(Rs)}function Ci(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Py(o)),lt!==null)for(o=lt.return;o!==null;){var u=o;switch(Hu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ga();break;case 3:Ss(),Qe(Wt),Qe(Nt),sc();break;case 5:rc(u);break;case 4:Ss();break;case 13:Qe(Je);break;case 19:Qe(Je);break;case 10:Ju(u.type._context);break;case 22:case 23:Oc()}o=o.return}if(Tt=t,lt=t=Br(t.current,null),Pt=on=r,mt=0,$o=null,xc=gl=Si=0,Qt=qo=null,wi!==null){for(r=0;r<wi.length;r++)if(o=wi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}o.pending=u}wi=null}return t}function tp(t,r){do{var o=lt;try{if(Yu(),sl.current=ul,ol){for(var u=Ze.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ol=!1}if(Ii=0,wt=pt=Ze=null,Oo=!1,Fo=0,kc.current=null,o===null||o.return===null){mt=1,$o=r,lt=null;break}e:{var p=t,v=o.return,T=o,C=r;if(r=Pt,T.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=C,H=T,Q=H.tag;if(!(H.mode&1)&&(Q===0||Q===11||Q===15)){var W=H.alternate;W?(H.updateQueue=W.updateQueue,H.memoizedState=W.memoizedState,H.lanes=W.lanes):(H.updateQueue=null,H.memoizedState=null)}var ee=Cf(v);if(ee!==null){ee.flags&=-257,Rf(ee,v,T,p,r),ee.mode&1&&Af(p,F,r),r=ee,C=F;var ie=r.updateQueue;if(ie===null){var se=new Set;se.add(C),r.updateQueue=se}else ie.add(C);break e}else{if(!(r&1)){Af(p,F,r),Fc();break e}C=Error(n(426))}}else if(Ye&&T.mode&1){var st=Cf(v);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Rf(st,v,T,p,r),Ku(As(C,T));break e}}p=C=As(C,T),mt!==4&&(mt=2),qo===null?qo=[p]:qo.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var b=If(p,C,r);Kd(p,b);break e;case 1:T=C;var k=p.type,O=p.stateNode;if(!(p.flags&128)&&(typeof k.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Fr===null||!Fr.has(O)))){p.flags|=65536,r&=-r,p.lanes|=r;var X=Sf(p,T,r);Kd(p,X);break e}}p=p.return}while(p!==null)}ip(o)}catch(oe){r=oe,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function np(){var t=ml.current;return ml.current=ul,t===null?ul:t}function Fc(){(mt===0||mt===3||mt===2)&&(mt=4),Tt===null||!(Si&268435455)&&!(gl&268435455)||jr(Tt,Pt)}function Tl(t,r){var o=Le;Le|=2;var u=np();(Tt!==t||Pt!==r)&&(fr=null,Ci(t,r));do try{Zy();break}catch(h){tp(t,h)}while(!0);if(Yu(),Le=o,ml.current=u,lt!==null)throw Error(n(261));return Tt=null,Pt=0,mt}function Zy(){for(;lt!==null;)rp(lt)}function ev(){for(;lt!==null&&!_a();)rp(lt)}function rp(t){var r=ap(t.alternate,t,on);t.memoizedProps=t.pendingProps,r===null?ip(t):lt=r,kc.current=null}function ip(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Gy(o,r),o!==null){o.flags&=32767,lt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,lt=null;return}}else if(o=Hy(o,r,on),o!==null){lt=o;return}if(r=r.sibling,r!==null){lt=r;return}lt=r=t}while(r!==null);mt===0&&(mt=5)}function Ri(t,r,o){var u=Pe,h=gn.transition;try{gn.transition=null,Pe=1,tv(t,r,o,u)}finally{gn.transition=h,Pe=u}return null}function tv(t,r,o,u){do ks();while(zr!==null);if(Le&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(je(t,p),t===Tt&&(lt=Tt=null,Pt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vl||(vl=!0,lp(un,function(){return ks(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=gn.transition,gn.transition=null;var v=Pe;Pe=1;var T=Le;Le|=4,kc.current=null,Ky(t,o),Qf(o,t),wy(Fu),Pr=!!Ou,Fu=Ou=null,t.current=o,Xy(o),wu(),Le=T,Pe=v,gn.transition=p}else t.current=o;if(vl&&(vl=!1,zr=t,_l=h),p=t.pendingLanes,p===0&&(Fr=null),Ta(o.stateNode),Kt(t,We()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(yl)throw yl=!1,t=Nc,Nc=null,t;return _l&1&&t.tag!==0&&ks(),p=t.pendingLanes,p&1?t===Dc?Wo++:(Wo=0,Dc=t):Wo=0,Lr(),null}function ks(){if(zr!==null){var t=Cr(_l),r=gn.transition,o=Pe;try{if(gn.transition=null,Pe=16>t?16:t,zr===null)var u=!1;else{if(t=zr,zr=null,_l=0,Le&6)throw Error(n(331));var h=Le;for(Le|=4,ne=t.current;ne!==null;){var p=ne,v=p.child;if(ne.flags&16){var T=p.deletions;if(T!==null){for(var C=0;C<T.length;C++){var F=T[C];for(ne=F;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:Bo(8,H,p)}var Q=H.child;if(Q!==null)Q.return=H,ne=Q;else for(;ne!==null;){H=ne;var W=H.sibling,ee=H.return;if($f(H),H===F){ne=null;break}if(W!==null){W.return=ee,ne=W;break}ne=ee}}}var ie=p.alternate;if(ie!==null){var se=ie.child;if(se!==null){ie.child=null;do{var st=se.sibling;se.sibling=null,se=st}while(se!==null)}}ne=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,ne=v;else e:for(;ne!==null;){if(p=ne,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Bo(9,p,p.return)}var b=p.sibling;if(b!==null){b.return=p.return,ne=b;break e}ne=p.return}}var k=t.current;for(ne=k;ne!==null;){v=ne;var O=v.child;if(v.subtreeFlags&2064&&O!==null)O.return=v,ne=O;else e:for(v=k;ne!==null;){if(T=ne,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:pl(9,T)}}catch(oe){tt(T,T.return,oe)}if(T===v){ne=null;break e}var X=T.sibling;if(X!==null){X.return=T.return,ne=X;break e}ne=T.return}}if(Le=h,Lr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ci,t)}catch{}u=!0}return u}finally{Pe=o,gn.transition=r}}return!1}function sp(t,r,o){r=As(o,r),r=If(t,r,1),t=br(t,r,1),r=Bt(),t!==null&&(Sr(t,1,r),Kt(t,r))}function tt(t,r,o){if(t.tag===3)sp(t,t,o);else for(;r!==null;){if(r.tag===3){sp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fr===null||!Fr.has(u))){t=As(o,t),t=Sf(r,t,1),r=br(r,t,1),t=Bt(),r!==null&&(Sr(r,1,t),Kt(r,t));break}}r=r.return}}function nv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Bt(),t.pingedLanes|=t.suspendedLanes&o,Tt===t&&(Pt&o)===o&&(mt===4||mt===3&&(Pt&130023424)===Pt&&500>We()-Vc?Ci(t,0):xc|=o),Kt(t,r)}function op(t,r){r===0&&(t.mode&1?(r=Ji,Ji<<=1,!(Ji&130023424)&&(Ji=4194304)):r=1);var o=Bt();t=cr(t,r),t!==null&&(Sr(t,r,o),Kt(t,o))}function rv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),op(t,o)}function iv(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),op(t,o)}var ap;ap=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Wt.current)Gt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Gt=!1,Wy(t,r,o);Gt=!!(t.flags&131072)}else Gt=!1,Ye&&r.flags&1048576&&zd(r,Ya,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;dl(t,r),t=r.pendingProps;var h=ys(r,Nt.current);Is(r,o),h=lc(null,r,u,t,h,o);var p=uc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(u)?(p=!0,Qa(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,tc(r),h.updater=cl,r.stateNode=h,h._reactInternals=r,mc(r,u,t,o),r=_c(null,r,u,!0,p,o)):(r.tag=0,Ye&&p&&Wu(r),jt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(dl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=ov(u),t=kn(u,t),h){case 0:r=vc(null,r,u,t,o);break e;case 1:r=Df(null,r,u,t,o);break e;case 11:r=Pf(null,r,u,t,o);break e;case 14:r=kf(null,r,u,kn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),vc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),Df(t,r,u,h,o);case 3:e:{if(Lf(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Qd(t,r),rl(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=As(Error(n(423)),r),r=Mf(t,r,u,o,h);break e}else if(u!==h){h=As(Error(n(424)),r),r=Mf(t,r,u,o,h);break e}else for(sn=Vr(r.stateNode.containerInfo.firstChild),rn=r,Ye=!0,Pn=null,o=Hd(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Es(),u===h){r=dr(t,r,o);break e}jt(t,r,u,o)}r=r.child}return r;case 5:return Yd(r),t===null&&Qu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,zu(u,h)?v=null:p!==null&&zu(u,p)&&(r.flags|=32),Nf(t,r),jt(t,r,v,o),r.child;case 6:return t===null&&Qu(r),null;case 13:return bf(t,r,o);case 4:return nc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ws(r,null,u,o):jt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),Pf(t,r,u,h,o);case 7:return jt(t,r,r.pendingProps,o),r.child;case 8:return jt(t,r,r.pendingProps.children,o),r.child;case 12:return jt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,He(el,u._currentValue),u._currentValue=v,p!==null)if(Rn(p.value,v)){if(p.children===h.children&&!Wt.current){r=dr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){v=p.child;for(var C=T.firstContext;C!==null;){if(C.context===u){if(p.tag===1){C=hr(-1,o&-o),C.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var H=F.pending;H===null?C.next=C:(C.next=H.next,H.next=C),F.pending=C}}p.lanes|=o,C=p.alternate,C!==null&&(C.lanes|=o),Zu(p.return,o,r),T.lanes|=o;break}C=C.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,T=v.alternate,T!==null&&(T.lanes|=o),Zu(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}jt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Is(r,o),h=pn(h),u=u(h),r.flags|=1,jt(t,r,u,o),r.child;case 14:return u=r.type,h=kn(u,r.pendingProps),h=kn(u.type,h),kf(t,r,u,h,o);case 15:return xf(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),dl(t,r),r.tag=1,Ht(u)?(t=!0,Qa(r)):t=!1,Is(r,o),wf(r,u,h),mc(r,u,h,o),_c(null,r,u,!0,t,o);case 19:return Ff(t,r,o);case 22:return Vf(t,r,o)}throw Error(n(156,r.tag))};function lp(t,r){return Xi(t,r)}function sv(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,r,o,u){return new sv(t,r,o,u)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ov(t){if(typeof t=="function")return zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x)return 11;if(t===ct)return 14}return 2}function Br(t,r){var o=t.alternate;return o===null?(o=yn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Il(t,r,o,u,h,p){var v=2;if(u=t,typeof t=="function")zc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case V:return Pi(o.children,h,p,r);case I:v=8,h|=8;break;case A:return t=yn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=yn(13,o,r,h),t.elementType=S,t.lanes=p,t;case $e:return t=yn(19,o,r,h),t.elementType=$e,t.lanes=p,t;case be:return Sl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:v=10;break e;case N:v=9;break e;case x:v=11;break e;case ct:v=14;break e;case rt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=yn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Pi(t,r,o,u){return t=yn(7,t,u,r),t.lanes=o,t}function Sl(t,r,o,u){return t=yn(22,t,u,r),t.elementType=be,t.lanes=o,t.stateNode={isHidden:!1},t}function Uc(t,r,o){return t=yn(6,t,null,r),t.lanes=o,t}function jc(t,r,o){return r=yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function av(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ir(0),this.expirationTimes=Ir(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Bc(t,r,o,u,h,p,v,T,C){return t=new av(t,r,o,T,C),r===1?(r=1,p===!0&&(r|=8)):r=0,p=yn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(p),t}function lv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function up(t){if(!t)return Dr;t=t._reactInternals;e:{if(En(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Ht(o))return bd(t,o,r)}return r}function cp(t,r,o,u,h,p,v,T,C){return t=Bc(o,u,!0,t,h,p,v,T,C),t.context=up(null),o=t.current,u=Bt(),h=Ur(o),p=hr(u,h),p.callback=r??null,br(o,p,h),t.current.lanes=h,Sr(t,h,u),Kt(t,u),t}function Al(t,r,o,u){var h=r.current,p=Bt(),v=Ur(h);return o=up(o),r.context===null?r.context=o:r.pendingContext=o,r=hr(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=br(h,r,v),t!==null&&(Nn(t,h,v,p),nl(t,h,v)),v}function Cl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function $c(t,r){hp(t,r),(t=t.alternate)&&hp(t,r)}var dp=typeof reportError=="function"?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}Rl.prototype.render=qc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Al(t,r,null,null)},Rl.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ai(function(){Al(null,t,null,null)}),r[or]=null}};function Rl(t){this._internalRoot=t}Rl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ra();t={blockedOn:null,target:t,priority:r};for(var o=0;o<On.length&&r!==0&&r<On[o].priority;o++);On.splice(o,0,t),o===0&&xa(t)}};function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fp(){}function uv(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var F=Cl(v);p.call(F)}}var v=cp(r,u,t,0,null,!1,!1,"",fp);return t._reactRootContainer=v,t[or]=v.current,ko(t.nodeType===8?t.parentNode:t),Ai(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var F=Cl(C);T.call(F)}}var C=Bc(t,0,!1,null,null,!1,!1,"",fp);return t._reactRootContainer=C,t[or]=C.current,ko(t.nodeType===8?t.parentNode:t),Ai(function(){Al(r,C,o,u)}),C}function kl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var T=h;h=function(){var C=Cl(v);T.call(C)}}Al(r,v,t,h)}else v=uv(o,r,t,h,u);return Cl(v)}Aa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Tr(r.pendingLanes);o!==0&&(Ar(r,o|1),Kt(r,We()),!(Le&6)&&(Ps=We()+500,Lr()))}break;case 13:Ai(function(){var u=cr(t,1);if(u!==null){var h=Bt();Nn(u,t,1,h)}}),$c(t,1)}},Zi=function(t){if(t.tag===13){var r=cr(t,134217728);if(r!==null){var o=Bt();Nn(r,t,134217728,o)}$c(t,134217728)}},Ca=function(t){if(t.tag===13){var r=Ur(t),o=cr(t,r);if(o!==null){var u=Bt();Nn(o,t,r,u)}$c(t,r)}},Ra=function(){return Pe},Pa=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},qi=function(t,r,o){switch(r){case"input":if(Zs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Ha(u);if(!h)throw Error(n(90));Fi(u),Zs(u,h)}}}break;case"textarea":Bi(t,o);break;case"select":r=o.value,r!=null&&Jn(t,!!o.multiple,r,!1)}},si=bc,uo=Ai;var cv={usingClientEntryPoint:!1,Events:[No,ms,Ha,Mn,lo,bc]},Ho={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hv={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fo(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{ci=xl.inject(hv),Zt=xl}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cv,Xt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(r))throw Error(n(200));return lv(t,r,null,o)},Xt.createRoot=function(t,r){if(!Wc(t))throw Error(n(299));var o=!1,u="",h=dp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Bc(t,1,!1,null,null,o,!1,u,h),t[or]=r.current,ko(t.nodeType===8?t.parentNode:t),new qc(r)},Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=fo(r),t=t===null?null:t.stateNode,t},Xt.flushSync=function(t){return Ai(t)},Xt.hydrate=function(t,r,o){if(!Pl(r))throw Error(n(200));return kl(null,t,r,!0,o)},Xt.hydrateRoot=function(t,r,o){if(!Wc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",v=dp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=cp(r,null,t,1,o??null,h,!1,p,v),t[or]=r.current,ko(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Rl(r)},Xt.render=function(t,r,o){if(!Pl(r))throw Error(n(200));return kl(null,t,r,!1,o)},Xt.unmountComponentAtNode=function(t){if(!Pl(t))throw Error(n(40));return t._reactRootContainer?(Ai(function(){kl(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1},Xt.unstable_batchedUpdates=bc,Xt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Pl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return kl(t,r,o,!1,u)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var wp;function Ev(){if(wp)return Qc.exports;wp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Qc.exports=_v(),Qc.exports}var Tp;function wv(){if(Tp)return Vl;Tp=1;var i=Ev();return Vl.createRoot=i.createRoot,Vl.hydrateRoot=i.hydrateRoot,Vl}var Tv=wv();const Iv=Pm(Tv);var Ip={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Sv=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],d=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},xm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],d=a+1<i.length,m=d?i[a+1]:0,y=a+2<i.length,_=y?i[a+2]:0,w=c>>2,R=(c&3)<<4|m>>4;let L=(m&15)<<2|_>>6,j=_&63;y||(j=64,d||(L=64)),s.push(n[w],n[R],n[L],n[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(km(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Sv(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||R==null)throw new Av;const L=c<<2|m>>4;if(s.push(L),_!==64){const j=m<<4&240|_>>2;if(s.push(j),R!==64){const G=_<<6&192|R;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Av extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cv=function(i){const e=km(i);return xm.encodeByteArray(e,!0)},$l=function(i){return Cv(i).replace(/\./g,"")},Rv=function(i){try{return xm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=()=>Pv().__FIREBASE_DEFAULTS__,xv=()=>{if(typeof process>"u"||typeof Ip>"u")return;const i=Ip.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Vv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Rv(i[1]);return e&&JSON.parse(e)},kh=()=>{try{return kv()||xv()||Vv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Nv=i=>{var e,n;return(n=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Dv=i=>{const e=Nv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Vm=()=>{var i;return(i=kh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[$l(JSON.stringify(n)),$l(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ov(){var i;const e=(i=kh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fv(){return!Ov()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zv(){try{return typeof indexedDB=="object"}catch{return!1}}function Uv(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="FirebaseError";class Hs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=jv,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nm.prototype.create)}}class Nm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?Bv(c,s):"Error",m=`${this.serviceName}: ${d} (${a}).`;return new Hs(a,m,s)}}function Bv(i,e){return i.replace($v,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const $v=/\{\$([^}]+)}/g;function oh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],d=e[a];if(Sp(c)&&Sp(d)){if(!oh(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Sp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Lv;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hv(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Wv(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wv(i){return i===ki?void 0:i}function Hv(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const Qv={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},Kv=De.INFO,Xv={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},Yv=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Xv[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=Kv,this._logHandler=Yv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const Jv=(i,e)=>e.some(n=>i instanceof n);let Ap,Cp;function Zv(){return Ap||(Ap=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e_(){return Cp||(Cp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lm=new WeakMap,ah=new WeakMap,Mm=new WeakMap,Yc=new WeakMap,xh=new WeakMap;function t_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(Gr(i.result)),a()},d=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Lm.set(n,i)}).catch(()=>{}),xh.set(e,i),e}function n_(i){if(ah.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});ah.set(i,e)}let lh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ah.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Mm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function r_(i){lh=i(lh)}function i_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Jc(this),e,...n);return Mm.set(s,e.sort?e.sort():[e]),Gr(s)}:e_().includes(i)?function(...e){return i.apply(Jc(this),e),Gr(Lm.get(this))}:function(...e){return Gr(i.apply(Jc(this),e))}}function s_(i){return typeof i=="function"?i_(i):(i instanceof IDBTransaction&&n_(i),Jv(i,Zv())?new Proxy(i,lh):i)}function Gr(i){if(i instanceof IDBRequest)return t_(i);if(Yc.has(i))return Yc.get(i);const e=s_(i);return e!==i&&(Yc.set(i,e),xh.set(e,i)),e}const Jc=i=>xh.get(i);function o_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(i,e),m=Gr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Gr(d.result),y.oldVersion,y.newVersion,Gr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const a_=["get","getKey","getAll","getAllKeys","count"],l_=["put","add","delete","clear"],Zc=new Map;function Rp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zc.get(e))return Zc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=l_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||a_.includes(n)))return;const c=async function(d,...m){const y=this.transaction(d,a?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&y.done]))[0]};return Zc.set(e,c),c}r_(i=>({...i,get:(e,n,s)=>Rp(e,n)||i.get(e,n,s),has:(e,n)=>!!Rp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(c_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function c_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uh="@firebase/app",Pp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Dm("@firebase/app"),h_="@firebase/app-compat",d_="@firebase/analytics-compat",f_="@firebase/analytics",p_="@firebase/app-check-compat",m_="@firebase/app-check",g_="@firebase/auth",y_="@firebase/auth-compat",v_="@firebase/database",__="@firebase/data-connect",E_="@firebase/database-compat",w_="@firebase/functions",T_="@firebase/functions-compat",I_="@firebase/installations",S_="@firebase/installations-compat",A_="@firebase/messaging",C_="@firebase/messaging-compat",R_="@firebase/performance",P_="@firebase/performance-compat",k_="@firebase/remote-config",x_="@firebase/remote-config-compat",V_="@firebase/storage",N_="@firebase/storage-compat",D_="@firebase/firestore",L_="@firebase/vertexai",M_="@firebase/firestore-compat",b_="firebase",O_="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="[DEFAULT]",F_={[uh]:"fire-core",[h_]:"fire-core-compat",[f_]:"fire-analytics",[d_]:"fire-analytics-compat",[m_]:"fire-app-check",[p_]:"fire-app-check-compat",[g_]:"fire-auth",[y_]:"fire-auth-compat",[v_]:"fire-rtdb",[__]:"fire-data-connect",[E_]:"fire-rtdb-compat",[w_]:"fire-fn",[T_]:"fire-fn-compat",[I_]:"fire-iid",[S_]:"fire-iid-compat",[A_]:"fire-fcm",[C_]:"fire-fcm-compat",[R_]:"fire-perf",[P_]:"fire-perf-compat",[k_]:"fire-rc",[x_]:"fire-rc-compat",[V_]:"fire-gcs",[N_]:"fire-gcs-compat",[D_]:"fire-fst",[M_]:"fire-fst-compat",[L_]:"fire-vertex","fire-js":"fire-js",[b_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new Map,z_=new Map,hh=new Map;function kp(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Wl(i){const e=i.name;if(hh.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;hh.set(e,i);for(const n of ql.values())kp(n,i);for(const n of z_.values())kp(n,i);return!0}function U_(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Nm("app","Firebase",j_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=O_;function bm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ch,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Qr.create("bad-app-name",{appName:String(a)});if(n||(n=Vm()),!n)throw Qr.create("no-options");const c=ql.get(a);if(c){if(oh(n,c.options)&&oh(s,c.config))return c;throw Qr.create("duplicate-app",{appName:a})}const d=new Gv(a);for(const y of hh.values())d.addComponent(y);const m=new B_(n,s,d);return ql.set(a,m),m}function q_(i=ch){const e=ql.get(i);if(!e&&i===ch&&Vm())return bm();if(!e)throw Qr.create("no-app",{appName:i});return e}function Ms(i,e,n){var s;let a=(s=F_[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(m.join(" "));return}Wl(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="firebase-heartbeat-database",H_=1,sa="firebase-heartbeat-store";let eh=null;function Om(){return eh||(eh=o_(W_,H_,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Qr.create("idb-open",{originalErrorMessage:i.message})})),eh}async function G_(i){try{const n=(await Om()).transaction(sa),s=await n.objectStore(sa).get(Fm(i));return await n.done,s}catch(e){if(e instanceof Hs)gr.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function xp(i,e){try{const s=(await Om()).transaction(sa,"readwrite");await s.objectStore(sa).put(e,Fm(i)),await s.done}catch(n){if(n instanceof Hs)gr.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(s.message)}}}function Fm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=1024,K_=30*24*60*60*1e3;class X_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J_(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Vp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=K_}),this._storage.overwrite(this._heartbeatsCache))}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vp(),{heartbeatsToSend:s,unsentEntries:a}=Y_(this._heartbeatsCache.heartbeats),c=$l(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return gr.warn(n),""}}}function Vp(){return new Date().toISOString().substring(0,10)}function Y_(i,e=Q_){const n=[];let s=i.slice();for(const a of i){const c=n.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),Np(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Np(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class J_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zv()?Uv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G_(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Np(i){return $l(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(i){Wl(new ia("platform-logger",e=>new u_(e),"PRIVATE")),Wl(new ia("heartbeat",e=>new X_(e),"PRIVATE")),Ms(uh,Pp,i),Ms(uh,Pp,"esm2017"),Ms("fire-js","")}Z_("");var e0="firebase",t0="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(e0,t0,"app");var Dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,zm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function A(){}A.prototype=I.prototype,V.D=I.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(P,N,x){for(var S=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)S[$e-2]=arguments[$e];return I.prototype[N].apply(P,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,I,A){A||(A=0);var P=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)P[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;16>N;++N)P[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=V.g[0],A=V.g[1],N=V.g[2];var x=V.g[3],S=I+(x^A&(N^x))+P[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=x+(N^I&(A^N))+P[1]+3905402710&4294967295,x=I+(S<<12&4294967295|S>>>20),S=N+(A^x&(I^A))+P[2]+606105819&4294967295,N=x+(S<<17&4294967295|S>>>15),S=A+(I^N&(x^I))+P[3]+3250441966&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(x^A&(N^x))+P[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(N^I&(A^N))+P[5]+1200080426&4294967295,x=I+(S<<12&4294967295|S>>>20),S=N+(A^x&(I^A))+P[6]+2821735955&4294967295,N=x+(S<<17&4294967295|S>>>15),S=A+(I^N&(x^I))+P[7]+4249261313&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(x^A&(N^x))+P[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(N^I&(A^N))+P[9]+2336552879&4294967295,x=I+(S<<12&4294967295|S>>>20),S=N+(A^x&(I^A))+P[10]+4294925233&4294967295,N=x+(S<<17&4294967295|S>>>15),S=A+(I^N&(x^I))+P[11]+2304563134&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(x^A&(N^x))+P[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(N^I&(A^N))+P[13]+4254626195&4294967295,x=I+(S<<12&4294967295|S>>>20),S=N+(A^x&(I^A))+P[14]+2792965006&4294967295,N=x+(S<<17&4294967295|S>>>15),S=A+(I^N&(x^I))+P[15]+1236535329&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(N^x&(A^N))+P[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^N&(I^A))+P[6]+3225465664&4294967295,x=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(x^I))+P[11]+643717713&4294967295,N=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(N^x))+P[0]+3921069994&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^x&(A^N))+P[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^N&(I^A))+P[10]+38016083&4294967295,x=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(x^I))+P[15]+3634488961&4294967295,N=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(N^x))+P[4]+3889429448&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^x&(A^N))+P[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^N&(I^A))+P[14]+3275163606&4294967295,x=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(x^I))+P[3]+4107603335&4294967295,N=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(N^x))+P[8]+1163531501&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^x&(A^N))+P[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^N&(I^A))+P[2]+4243563512&4294967295,x=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(x^I))+P[7]+1735328473&4294967295,N=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(N^x))+P[12]+2368359562&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(A^N^x)+P[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^N)+P[8]+2272392833&4294967295,x=I+(S<<11&4294967295|S>>>21),S=N+(x^I^A)+P[11]+1839030562&4294967295,N=x+(S<<16&4294967295|S>>>16),S=A+(N^x^I)+P[14]+4259657740&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^x)+P[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^N)+P[4]+1272893353&4294967295,x=I+(S<<11&4294967295|S>>>21),S=N+(x^I^A)+P[7]+4139469664&4294967295,N=x+(S<<16&4294967295|S>>>16),S=A+(N^x^I)+P[10]+3200236656&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^x)+P[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^N)+P[0]+3936430074&4294967295,x=I+(S<<11&4294967295|S>>>21),S=N+(x^I^A)+P[3]+3572445317&4294967295,N=x+(S<<16&4294967295|S>>>16),S=A+(N^x^I)+P[6]+76029189&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^x)+P[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^N)+P[12]+3873151461&4294967295,x=I+(S<<11&4294967295|S>>>21),S=N+(x^I^A)+P[15]+530742520&4294967295,N=x+(S<<16&4294967295|S>>>16),S=A+(N^x^I)+P[2]+3299628645&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(N^(A|~x))+P[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~N))+P[7]+1126891415&4294967295,x=I+(S<<10&4294967295|S>>>22),S=N+(I^(x|~A))+P[14]+2878612391&4294967295,N=x+(S<<15&4294967295|S>>>17),S=A+(x^(N|~I))+P[5]+4237533241&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~x))+P[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~N))+P[3]+2399980690&4294967295,x=I+(S<<10&4294967295|S>>>22),S=N+(I^(x|~A))+P[10]+4293915773&4294967295,N=x+(S<<15&4294967295|S>>>17),S=A+(x^(N|~I))+P[1]+2240044497&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~x))+P[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~N))+P[15]+4264355552&4294967295,x=I+(S<<10&4294967295|S>>>22),S=N+(I^(x|~A))+P[6]+2734768916&4294967295,N=x+(S<<15&4294967295|S>>>17),S=A+(x^(N|~I))+P[13]+1309151649&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~x))+P[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~N))+P[11]+3174756917&4294967295,x=I+(S<<10&4294967295|S>>>22),S=N+(I^(x|~A))+P[2]+718787259&4294967295,N=x+(S<<15&4294967295|S>>>17),S=A+(x^(N|~I))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var A=I-this.blockSize,P=this.B,N=this.h,x=0;x<I;){if(N==0)for(;x<=A;)a(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<I;)if(P[N++]=V.charCodeAt(x++),N==this.blockSize){a(this,P),N=0;break}}else for(;x<I;)if(P[N++]=V[x++],N==this.blockSize){a(this,P),N=0;break}}this.h=N,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var A=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=A&255,A/=256;for(this.u(V),V=Array(16),I=A=0;4>I;++I)for(var P=0;32>P;P+=8)V[A++]=this.g[I]>>>P&255;return V};function c(V,I){var A=m;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=I(V)}function d(V,I){this.h=I;for(var A=[],P=!0,N=V.length-1;0<=N;N--){var x=V[N]|0;P&&x==I||(A[N]=x,P=!1)}this.g=A}var m={};function y(V){return-128<=V&&128>V?c(V,function(I){return new d([I|0],0>I?-1:0)}):new d([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return R;if(0>V)return z(_(-V));for(var I=[],A=1,P=0;V>=A;P++)I[P]=V/A|0,A*=4294967296;return new d(I,0)}function w(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return z(w(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(I,8)),P=R,N=0;N<V.length;N+=8){var x=Math.min(8,V.length-N),S=parseInt(V.substring(N,N+x),I);8>x?(x=_(Math.pow(I,x)),P=P.j(x).add(_(S))):(P=P.j(A),P=P.add(_(S)))}return P}var R=y(0),L=y(1),j=y(16777216);i=d.prototype,i.m=function(){if(q(this))return-z(this).m();for(var V=0,I=1,A=0;A<this.g.length;A++){var P=this.i(A);V+=(0<=P?P:4294967296+P)*I,I*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(G(this))return"0";if(q(this))return"-"+z(this).toString(V);for(var I=_(Math.pow(V,6)),A=this,P="";;){var N=ye(A,I).g;A=re(A,N.j(I));var x=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=N,G(A))return x+P;for(;6>x.length;)x="0"+x;P=x+P}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function G(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function q(V){return V.h==-1}i.l=function(V){return V=re(this,V),q(V)?-1:G(V)?0:1};function z(V){for(var I=V.g.length,A=[],P=0;P<I;P++)A[P]=~V.g[P];return new d(A,~V.h).add(L)}i.abs=function(){return q(this)?z(this):this},i.add=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],P=0,N=0;N<=I;N++){var x=P+(this.i(N)&65535)+(V.i(N)&65535),S=(x>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);P=S>>>16,x&=65535,S&=65535,A[N]=S<<16|x}return new d(A,A[A.length-1]&-2147483648?-1:0)};function re(V,I){return V.add(z(I))}i.j=function(V){if(G(this)||G(V))return R;if(q(this))return q(V)?z(this).j(z(V)):z(z(this).j(V));if(q(V))return z(this.j(z(V)));if(0>this.l(j)&&0>V.l(j))return _(this.m()*V.m());for(var I=this.g.length+V.g.length,A=[],P=0;P<2*I;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<V.g.length;N++){var x=this.i(P)>>>16,S=this.i(P)&65535,$e=V.i(N)>>>16,ct=V.i(N)&65535;A[2*P+2*N]+=S*ct,le(A,2*P+2*N),A[2*P+2*N+1]+=x*ct,le(A,2*P+2*N+1),A[2*P+2*N+1]+=S*$e,le(A,2*P+2*N+1),A[2*P+2*N+2]+=x*$e,le(A,2*P+2*N+2)}for(P=0;P<I;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=I;P<2*I;P++)A[P]=0;return new d(A,0)};function le(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function pe(V,I){this.g=V,this.h=I}function ye(V,I){if(G(I))throw Error("division by zero");if(G(V))return new pe(R,R);if(q(V))return I=ye(z(V),I),new pe(z(I.g),z(I.h));if(q(I))return I=ye(V,z(I)),new pe(z(I.g),I.h);if(30<V.g.length){if(q(V)||q(I))throw Error("slowDivide_ only works with positive integers.");for(var A=L,P=I;0>=P.l(V);)A=Be(A),P=Be(P);var N=Ae(A,1),x=Ae(P,1);for(P=Ae(P,2),A=Ae(A,2);!G(P);){var S=x.add(P);0>=S.l(V)&&(N=N.add(A),x=S),P=Ae(P,1),A=Ae(A,1)}return I=re(V,N.j(I)),new pe(N,I)}for(N=R;0<=V.l(I);){for(A=Math.max(1,Math.floor(V.m()/I.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),x=_(A),S=x.j(I);q(S)||0<S.l(V);)A-=P,x=_(A),S=x.j(I);G(x)&&(x=L),N=N.add(x),V=re(V,S)}return new pe(N,V)}i.A=function(V){return ye(this,V).h},i.and=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)&V.i(P);return new d(A,this.h&V.h)},i.or=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)|V.i(P);return new d(A,this.h|V.h)},i.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)^V.i(P);return new d(A,this.h^V.h)};function Be(V){for(var I=V.g.length+1,A=[],P=0;P<I;P++)A[P]=V.i(P)<<1|V.i(P-1)>>>31;return new d(A,V.h)}function Ae(V,I){var A=I>>5;I%=32;for(var P=V.g.length-A,N=[],x=0;x<P;x++)N[x]=0<I?V.i(x+A)>>>I|V.i(x+A+1)<<32-I:V.i(x+A);return new d(N,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,zm=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=w,Vi=d}).apply(typeof Dp<"u"?Dp:typeof self<"u"?self:typeof window<"u"?window:{});var Nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Um,Xo,jm,Ol,dh,Bm,$m,qm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nl=="object"&&Nl];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,f){if(f)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in g))break e;g=g[M]}l=l[l.length-1],E=g[l],f=f(E),f!=E&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var g=0,E=!1,M={next:function(){if(!E&&g<l.length){var U=g++;return{value:f(U,l[U]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function y(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function _(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function w(l,f,g){return l.call.apply(l.bind,arguments)}function R(l,f,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function L(l,f,g){return L=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,L.apply(null,arguments)}function j(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function G(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,M,U){for(var Y=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Y[Ue-2]=arguments[Ue];return f.prototype[M].apply(E,Y)}}function q(l){const f=l.length;if(0<f){const g=Array(f);for(let E=0;E<f;E++)g[E]=l[E];return g}return[]}function z(l,f){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const M=l.length||0,U=E.length||0;l.length=M+U;for(let Y=0;Y<U;Y++)l[M+Y]=E[Y]}else l.push(E)}}class re{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function le(l){return/^[\s\xa0]*$/.test(l)}function pe(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function ye(l){return ye[" "](l),l}ye[" "]=function(){};var Be=pe().indexOf("Gecko")!=-1&&!(pe().toLowerCase().indexOf("webkit")!=-1&&pe().indexOf("Edge")==-1)&&!(pe().indexOf("Trident")!=-1||pe().indexOf("MSIE")!=-1)&&pe().indexOf("Edge")==-1;function Ae(l,f,g){for(const E in l)f.call(g,l[E],E,l)}function V(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function I(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)l[g]=E[g];for(let U=0;U<A.length;U++)g=A[U],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function N(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function x(l){m.setTimeout(()=>{throw l},0)}function S(){var l=ae;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class $e{constructor(){this.h=this.g=null}add(f,g){const E=ct.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var ct=new re(()=>new rt,l=>l.reset());class rt{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let be,J=!1,ae=new $e,Z=()=>{const l=m.Promise.resolve(void 0);be=()=>{l.then(D)}};var D=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){x(g)}var f=ct;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}J=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,f),m.removeEventListener("test",g,f)}catch{}return l}();function Ie(l,f){if(ue.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Be){e:{try{ye(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}G(Ie,ue);var xe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function qe(l,f,g,E,M){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function _t(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Xn(l){this.src=l,this.g={},this.h=0}Xn.prototype.add=function(l,f,g,E,M){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var Y=_r(l,f,E,M);return-1<Y?(f=l[Y],g||(f.fa=!1)):(f=new qe(f,this.src,U,!!E,M),f.fa=g,l.push(f)),f};function Fi(l,f){var g=f.type;if(g in l.g){var E=l.g[g],M=Array.prototype.indexOf.call(E,f,void 0),U;(U=0<=M)&&Array.prototype.splice.call(E,M,1),U&&(_t(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function _r(l,f,g,E){for(var M=0;M<l.length;++M){var U=l[M];if(!U.da&&U.listener==f&&U.capture==!!g&&U.ha==E)return M}return-1}var ti="closure_lm_"+(1e6*Math.random()|0),zi={};function Js(l,f,g,E,M){if(Array.isArray(f)){for(var U=0;U<f.length;U++)Js(l,f[U],g,E,M);return null}return g=to(g),l&&l[Oe]?l.K(f,g,_(E)?!!E.capture:!!E,M):Zs(l,f,g,!1,E,M)}function Zs(l,f,g,E,M,U){if(!f)throw Error("Invalid event type");var Y=_(M)?!!M.capture:!!M,Ue=ji(l);if(Ue||(l[ti]=Ue=new Xn(l)),g=Ue.add(f,g,E,Y,U),g.proxy)return g;if(E=ga(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)Te||(M=Y),M===void 0&&(M=!1),l.addEventListener(f.toString(),E,M);else if(l.attachEvent)l.attachEvent(Jn(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ga(){function l(g){return f.call(l.src,l.listener,g)}const f=eo;return l}function Ui(l,f,g,E,M){if(Array.isArray(f))for(var U=0;U<f.length;U++)Ui(l,f[U],g,E,M);else E=_(E)?!!E.capture:!!E,g=to(g),l&&l[Oe]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],g=_r(U,g,E,M),-1<g&&(_t(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=ji(l))&&(f=l.g[f.toString()],l=-1,f&&(l=_r(f,g,E,M)),(g=-1<l?f[l]:null)&&Yn(g))}function Yn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Oe])Fi(f.i,l);else{var g=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(g,E,l.capture):f.detachEvent?f.detachEvent(Jn(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=ji(f))?(Fi(g,l),g.h==0&&(g.src=null,f[ti]=null)):_t(l)}}}function Jn(l){return l in zi?zi[l]:zi[l]="on"+l}function eo(l,f){if(l.da)l=!0;else{f=new Ie(f,this);var g=l.listener,E=l.ha||l.src;l.fa&&Yn(l),l=g.call(E,f)}return l}function ji(l){return l=l[ti],l instanceof Xn?l:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(l){return typeof l=="function"?l:(l[Bi]||(l[Bi]=function(f){return l.handleEvent(f)}),l[Bi])}function ht(){$.call(this),this.i=new Xn(this),this.M=this,this.F=null}G(ht,$),ht.prototype[Oe]=!0,ht.prototype.removeEventListener=function(l,f,g,E){Ui(this,l,f,g,E)};function dt(l,f){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new ue(f,l);else if(f instanceof ue)f.target=f.target||l;else{var M=f;f=new ue(E,l),P(f,M)}if(M=!0,g)for(var U=g.length-1;0<=U;U--){var Y=f.g=g[U];M=Zn(Y,E,!0,f)&&M}if(Y=f.g=l,M=Zn(Y,E,!0,f)&&M,M=Zn(Y,E,!1,f)&&M,g)for(U=0;U<g.length;U++)Y=f.g=g[U],M=Zn(Y,E,!1,f)&&M}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],E=0;E<g.length;E++)_t(g[E]);delete l.g[f],l.h--}}this.F=null},ht.prototype.K=function(l,f,g,E){return this.i.add(String(l),f,!1,g,E)},ht.prototype.L=function(l,f,g,E){return this.i.add(String(l),f,!0,g,E)};function Zn(l,f,g,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,U=0;U<f.length;++U){var Y=f[U];if(Y&&!Y.da&&Y.capture==g){var Ue=Y.listener,ft=Y.ha||Y.src;Y.fa&&Fi(l.i,Y),M=Ue.call(ft,E)!==!1&&M}}return M&&!E.defaultPrevented}function no(l,f,g){if(typeof l=="function")g&&(l=L(l,g));else if(l&&typeof l.handleEvent=="function")l=L(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function Er(l){l.g=no(()=>{l.g=null,l.i&&(l.i=!1,Er(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class ni extends ${constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(l){$.call(this),this.h=l,this.g={}}G(ri,$);var ro=[];function io(l){Ae(l.g,function(f,g){this.g.hasOwnProperty(g)&&Yn(f)},l),l.g={}}ri.prototype.N=function(){ri.aa.N.call(this),io(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=m.JSON.stringify,oo=m.JSON.parse,ao=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ii(){}ii.prototype.h=null;function $i(l){return l.h||(l.h=l.i())}function qi(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){ue.call(this,"d")}G(Ln,ue);function Wi(){ue.call(this,"c")}G(Wi,ue);var Mn={},lo=null;function si(){return lo=lo||new ht}Mn.La="serverreachability";function uo(l){ue.call(this,Mn.La,l)}G(uo,ue);function er(l){const f=si();dt(f,new uo(f))}Mn.STAT_EVENT="statevent";function co(l,f){ue.call(this,Mn.STAT_EVENT,l),this.stat=f}G(co,ue);function it(l){const f=si();dt(f,new co(f,l))}Mn.Ma="timingevent";function Hi(l,f){ue.call(this,Mn.Ma,l),this.size=f}G(Hi,ue);function vn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function ai(l,f,g,E,M,U){l.info(function(){if(l.g)if(U)for(var Y="",Ue=U.split("&"),ft=0;ft<Ue.length;ft++){var Ve=Ue[ft].split("=");if(1<Ve.length){var Et=Ve[0];Ve=Ve[1];var at=Et.split("_");Y=2<=at.length&&at[1]=="type"?Y+(Et+"="+Ve+"&"):Y+(Et+"=redacted&")}}else Y=null;else Y=U;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+f+`
`+g+`
`+Y})}function Gi(l,f,g,E,M,U,Y){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+f+`
`+g+`
`+U+" "+Y})}function _n(l,f,g,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Eu(l,g)+(E?" "+E:"")})}function ho(l,f){l.info(function(){return"TIMEOUT: "+f})}oi.prototype.info=function(){};function Eu(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var U=M[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Y=1;Y<M.length;Y++)M[Y]=""}}}}return so(g)}catch{return f}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ya={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},En;function li(){}G(li,ii),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},En=new li;function wn(l,f,g,E){this.j=l,this.i=f,this.l=g,this.R=E||1,this.U=new ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new va}function va(){this.i=null,this.g="",this.h=!1}var fo={},Ki={};function Xi(l,f,g){l.L=1,l.v=Ar(en(f)),l.m=g,l.P=!0,po(l,null)}function po(l,f){l.F=Date.now(),We(l),l.A=en(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Rr(g.i,"t",E),l.C=0,g=l.j.J,l.h=new va,l.g=ba(l.j,g?f:null,!l.m),0<l.O&&(l.M=new ni(L(l.Y,l,l.g),l.O)),f=l.U,g=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(ro[0]=M.toString()),M=ro);for(var U=0;U<M.length;U++){var Y=Js(g,M[U],E||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),er(),ai(l.i,l.u,l.A,l.l,l.R,l.m)}wn.prototype.ca=function(l){l=l.target;const f=this.M;f&&qt(l)==3?f.j():this.Y(l)},wn.prototype.Y=function(l){try{if(l==this.g)e:{const at=qt(this.g);var f=this.g.Ba();const hn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||Eo(this.g)))){this.J||at!=4||f==7||(f==8||0>=hn?er(3):er(2)),ui(this);var g=this.g.Z();this.X=g;t:if(_a(this)){var E=Eo(this.g);l="";var M=E.length,U=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),wr(this);var Y="";break t}this.h.i=new m.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(U&&f==M-1)});E.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,Gi(this.i,this.u,this.A,this.l,this.R,at,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ft=this.g;if((Ue=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(Ue)){var Ve=Ue;break t}}Ve=null}if(g=Ve)_n(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mo(this,g);else{this.o=!1,this.s=3,it(12),un(this),wr(this);break e}}if(this.P){g=!0;let nn;for(;!this.J&&this.C<Y.length;)if(nn=wu(this,Y),nn==Ki){at==4&&(this.s=4,it(14),g=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==fo){this.s=4,it(15),_n(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else _n(this.i,this.l,nn,null),mo(this,nn);if(_a(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||Y.length!=0||this.h.h||(this.s=1,it(16),g=!1),this.o=this.o&&g,!g)_n(this.i,this.l,Y,"[Invalid Chunked Response]"),un(this),wr(this);else if(0<Y.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),To(Et),Et.M=!0,it(11))}}else _n(this.i,this.l,Y,null),mo(this,Y);at==4&&un(this),this.o&&!this.J&&(at==4?as(this.j,this):(this.o=!1,We(this)))}else ns(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),un(this),wr(this)}}}catch{}finally{}};function _a(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function wu(l,f){var g=l.C,E=f.indexOf(`
`,g);return E==-1?Ki:(g=Number(f.substring(g,E)),isNaN(g)?fo:(E+=1,E+g>f.length?Ki:(f=f.slice(E,E+g),l.C=E+g,f)))}wn.prototype.cancel=function(){this.J=!0,un(this)};function We(l){l.S=Date.now()+l.I,Ea(l,l.I)}function Ea(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=vn(L(l.ba,l),f)}function ui(l){l.B&&(m.clearTimeout(l.B),l.B=null)}wn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ho(this.i,this.A),this.L!=2&&(er(),it(17)),un(this),this.s=2,wr(this)):Ea(this,this.S-l)};function wr(l){l.j.G==0||l.J||as(l.j,l)}function un(l){ui(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,io(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function mo(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||zt(g.h,l))){if(!l.K&&zt(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)os(g),Cn(g);else break e;ss(g),it(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=vn(L(g.Za,g),6e3));if(1>=Ta(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else sr(g,11)}else if((l.K||g.g==l)&&os(g),!le(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let Ve=M[f];if(g.T=Ve[0],Ve=Ve[1],g.G==2)if(Ve[0]=="c"){g.K=Ve[1],g.ia=Ve[2];const Et=Ve[3];Et!=null&&(g.la=Et,g.j.info("VER="+g.la));const at=Ve[4];at!=null&&(g.Aa=at,g.j.info("SVER="+g.Aa));const hn=Ve[5];hn!=null&&typeof hn=="number"&&0<hn&&(E=1.5*hn,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const nn=l.g;if(nn){const gi=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var U=E.h;U.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(go(U,U.h),U.h=null))}if(E.D){const us=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;us&&(E.ya=us,je(E.I,E.D,us))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var Y=l;if(E.qa=Ma(E,E.J?E.ia:null,E.W),Y.K){Ia(E.h,Y);var Ue=Y,ft=E.L;ft&&(Ue.I=ft),Ue.B&&(ui(Ue),We(Ue)),E.g=Y}else mi(E);0<g.i.length&&zn(g)}else Ve[0]!="stop"&&Ve[0]!="close"||sr(g,7);else g.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?sr(g,7):Ct(g):Ve[0]!="noop"&&g.l&&g.l.ta(Ve),g.v=0)}}er(4)}catch{}}var wa=class{constructor(l,f){this.g=l,this.map=f}};function ci(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ta(l){return l.h?1:l.g?l.g.size:0}function zt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function go(l,f){l.g?l.g.add(f):l.h=f}function Ia(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}ci.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Sa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return q(l.i)}function Yi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var f=[],g=l.length,E=0;E<g;E++)f.push(l[E]);return f}f=[],g=0;for(E in l)f[g++]=l[E];return f}function Ji(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const E in l)f[g++]=E;return f}}}function Tr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=Ji(l),E=Yi(l),M=E.length,U=0;U<M;U++)f.call(void 0,E[U],g&&g[U],l)}var hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tu(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),M=null;if(0<=E){var U=l[g].substring(0,E);M=l[g].substring(E+1)}else U=l[g];f(U,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function tr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof tr){this.h=l.h,di(this,l.j),this.o=l.o,this.g=l.g,Ir(this,l.s),this.l=l.l;var f=l.i,g=new bn;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Sr(this,g),this.m=l.m}else l&&(f=String(l).match(hi))?(this.h=!1,di(this,f[1]||"",!0),this.o=Pe(f[2]||""),this.g=Pe(f[3]||"",!0),Ir(this,f[4]),this.l=Pe(f[5]||"",!0),Sr(this,f[6]||"",!0),this.m=Pe(f[7]||"")):(this.h=!1,this.i=new bn(null,this.h))}tr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Cr(f,Zi,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Cr(f,Zi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Cr(g,g.charAt(0)=="/"?Ra:Ca,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Cr(g,yo)),l.join("")};function en(l){return new tr(l)}function di(l,f,g){l.j=g?Pe(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Ir(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Sr(l,f,g){f instanceof bn?(l.i=f,On(l.i,l.h)):(g||(f=Cr(f,Pa)),l.i=new bn(f,l.h))}function je(l,f,g){l.i.set(f,g)}function Ar(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Cr(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Aa),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Aa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Zi=/[#\/\?@]/g,Ca=/[#\?:]/g,Ra=/[#\?]/g,Pa=/[#\?@]/g,yo=/#/g;function bn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function At(l){l.g||(l.g=new Map,l.h=0,l.i&&Tu(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=bn.prototype,i.add=function(l,f){At(this),this.i=null,l=cn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Tn(l,f){At(l),f=cn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function In(l,f){return At(l),f=cn(l,f),l.g.has(f)}i.forEach=function(l,f){At(this),this.g.forEach(function(g,E){g.forEach(function(M){l.call(f,M,E,this)},this)},this)},i.na=function(){At(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let E=0;E<f.length;E++){const M=l[E];for(let U=0;U<M.length;U++)g.push(f[E])}return g},i.V=function(l){At(this);let f=[];if(typeof l=="string")In(this,l)&&(f=f.concat(this.g.get(cn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return At(this),this.i=null,l=cn(this,l),In(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Rr(l,f,g){Tn(l,f),0<g.length&&(l.i=null,l.g.set(cn(l,f),q(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var E=f[g];const U=encodeURIComponent(String(E)),Y=this.V(E);for(E=0;E<Y.length;E++){var M=U;Y[E]!==""&&(M+="="+encodeURIComponent(String(Y[E]))),l.push(M)}}return this.i=l.join("&")};function cn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function On(l,f){f&&!l.j&&(At(l),l.i=null,l.g.forEach(function(g,E){var M=E.toLowerCase();E!=M&&(Tn(this,E),Rr(this,M,g))},l)),l.j=f}function Iu(l,f){const g=new oi;if(m.Image){const E=new Image;E.onload=j($t,g,"TestLoadImage: loaded",!0,f,E),E.onerror=j($t,g,"TestLoadImage: error",!1,f,E),E.onabort=j($t,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=j($t,g,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function ka(l,f){const g=new oi,E=new AbortController,M=setTimeout(()=>{E.abort(),$t(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(U=>{clearTimeout(M),U.ok?$t(g,"TestPingServer: ok",!0,f):$t(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),$t(g,"TestPingServer: error",!1,f)})}function $t(l,f,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function Su(){this.g=new ao}function xa(l,f,g){const E=g||"";try{Tr(l,function(M,U){let Y=M;_(M)&&(Y=so(M)),f.push(E+U+"="+encodeURIComponent(Y))})}catch(M){throw f.push(E+"type="+encodeURIComponent("_badmap")),M}}function nr(l){this.l=l.Ub||null,this.j=l.eb||!1}G(nr,ii),nr.prototype.g=function(){return new fi(this.l,this.j)},nr.prototype.i=function(l){return function(){return l}}({});function fi(l,f){ht.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(fi,ht),i=fi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,An(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Va(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Va(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Sn(this):An(this),this.readyState==3&&Va(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,An(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function An(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rr(l){let f="";return Ae(l,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function Pr(l,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=rr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):je(l,f,g))}function Xe(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Xe,ht);var Au=/^https?$/i,vo=["POST","PUT"];i=Xe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():En.g(),this.v=this.o?$i(this.o):$i(En),this.g.onreadystatechange=L(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){pi(this,U);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())g.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vo,f,void 0))||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Y]of g)this.g.setRequestHeader(U,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ts(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){pi(this,U)}};function pi(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,es(l),tn(l)}function es(l){l.A||(l.A=!0,dt(l,"complete"),dt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,dt(this,"complete"),dt(this,"abort"),tn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Xe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},i.bb=function(){_o(this)};function _o(l){if(l.h&&typeof d<"u"&&(!l.v[1]||qt(l)!=4||l.Z()!=2)){if(l.u&&qt(l)==4)no(l.Ea,0,l);else if(dt(l,"readystatechange"),qt(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=Y===0){var M=String(l.D).match(hi)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!Au.test(M?M.toLowerCase():"")}g=E}if(g)dt(l,"complete"),dt(l,"success");else{l.m=6;try{var U=2<qt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",es(l)}}finally{tn(l)}}}}function tn(l,f){if(l.g){ts(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||dt(l,"ready");try{g.onreadystatechange=E}catch{}}}function ts(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function qt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),oo(f)}};function Eo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(l){const f={};l=(l.g&&2<=qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(le(l[E]))continue;var g=N(l[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=f[M]||[];f[M]=U,U.push(g)}V(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function wo(l){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(l&&l.concurrentRequestLimit),this.Da=new Su,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=wo.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,E){it(0),this.W=l,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=Ma(this,null,this.W),zn(this)};function Ct(l){if(rs(l),l.G==3){var f=l.U++,g=en(l.I);if(je(g,"SID",l.K),je(g,"RID",f),je(g,"TYPE","terminate"),ir(l,g),f=new wn(l,l.j,f),f.L=2,f.v=Ar(en(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=f.v,g=!0),g||(f.g=ba(f.j,null),f.g.ea(f.v)),f.F=Date.now(),We(f)}La(l)}function Cn(l){l.g&&(To(l),l.g.cancel(),l.g=null)}function rs(l){Cn(l),l.u&&(m.clearTimeout(l.u),l.u=null),os(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function zn(l){if(!Zt(l.h)&&!l.s){l.s=!0;var f=l.Ga;be||Z(),J||(be(),J=!0),ae.add(f,l),l.B=0}}function Cu(l,f){return Ta(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=vn(L(l.Ga,l,f),Da(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new wn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=I(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(M.H=U,U=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=kr(this,M,f),g=en(this.I),je(g,"RID",l),je(g,"CVER",22),this.D&&je(g,"X-HTTP-Session-Id",this.D),ir(this,g),U&&(this.O?f="headers="+encodeURIComponent(String(rr(U)))+"&"+f:this.m&&Pr(g,this.m,U)),go(this.h,M),this.Ua&&je(g,"TYPE","init"),this.P?(je(g,"$req",f),je(g,"SID","null"),M.T=!0,Xi(M,g,null)):Xi(M,g,f),this.G=2}}else this.G==3&&(l?is(this,l):this.i.length==0||Zt(this.h)||is(this))};function is(l,f){var g;f?g=f.l:g=l.U++;const E=en(l.I);je(E,"SID",l.K),je(E,"RID",g),je(E,"AID",l.T),ir(l,E),l.m&&l.o&&Pr(E,l.m,l.o),g=new wn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=kr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),go(l.h,g),Xi(g,E,f)}function ir(l,f){l.H&&Ae(l.H,function(g,E){je(f,E,g)}),l.l&&Tr({},function(g,E){je(f,E,g)})}function kr(l,f,g){g=Math.min(l.i.length,g);var E=l.l?L(l.l.Na,l.l,l):null;e:{var M=l.i;let U=-1;for(;;){const Y=["count="+g];U==-1?0<g?(U=M[0].g,Y.push("ofs="+U)):U=0:Y.push("ofs="+U);let Ue=!0;for(let ft=0;ft<g;ft++){let Ve=M[ft].g;const Et=M[ft].map;if(Ve-=U,0>Ve)U=Math.max(0,M[ft].g-100),Ue=!1;else try{xa(Et,Y,"req"+Ve+"_")}catch{E&&E(Et)}}if(Ue){E=Y.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,E}function mi(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;be||Z(),J||(be(),J=!0),ae.add(f,l),l.v=0}}function ss(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=vn(L(l.Fa,l),Da(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Na(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=vn(L(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Cn(this),Na(this))};function To(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Na(l){l.g=new wn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=en(l.qa);je(f,"RID","rpc"),je(f,"SID",l.K),je(f,"AID",l.T),je(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(f,"TO",l.ja),je(f,"TYPE","xmlhttp"),ir(l,f),l.m&&l.o&&Pr(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Ar(en(f)),g.m=null,g.P=!0,po(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Cn(this),ss(this),it(19))};function os(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function as(l,f){var g=null;if(l.g==f){os(l),To(l),l.g=null;var E=2}else if(zt(l.h,f))g=f.D,Ia(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;E=si(),dt(E,new Hi(E,g)),zn(l)}else mi(l);else if(M=f.s,M==3||M==0&&0<f.X||!(E==1&&Cu(l,f)||E==2&&ss(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),M){case 1:sr(l,5);break;case 4:sr(l,10);break;case 3:sr(l,6);break;default:sr(l,2)}}}function Da(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function sr(l,f){if(l.j.info("Error code "+f),f==2){var g=L(l.fb,l),E=l.Xa;const M=!E;E=new tr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||di(E,"https"),Ar(E),M?Iu(E.toString(),g):ka(E.toString(),g)}else it(2);l.G=0,l.l&&l.l.sa(f),La(l),rs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function La(l){if(l.G=0,l.ka=[],l.l){const f=Sa(l.h);(f.length!=0||l.i.length!=0)&&(z(l.ka,f),z(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function Ma(l,f,g){var E=g instanceof tr?en(g):new tr(g);if(E.g!="")f&&(E.g=f+"."+E.g),Ir(E,E.s);else{var M=m.location;E=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var U=new tr(null);E&&di(U,E),f&&(U.g=f),M&&Ir(U,M),g&&(U.l=g),E=U}return g=l.D,f=l.ya,g&&f&&je(E,g,f),je(E,"VER",l.la),ir(l,E),E}function ba(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Xe(new nr({eb:g})):new Xe(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}i=Io.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ls(){}ls.prototype.g=function(l,f){return new Ut(l,f)};function Ut(l,f){ht.call(this),this.g=new wo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!le(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!le(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Un(this)}G(Ut,ht),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Ct(this.g)},Ut.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=so(l),l=g);f.i.push(new wa(f.Ya++,l)),f.G==3&&zn(f)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,Ut.aa.N.call(this)};function Oa(l){Ln.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}G(Oa,Ln);function Fa(){Wi.call(this),this.status=1}G(Fa,Wi);function Un(l){this.g=l}G(Un,Io),Un.prototype.ua=function(){dt(this.g,"a")},Un.prototype.ta=function(l){dt(this.g,new Oa(l))},Un.prototype.sa=function(l){dt(this.g,new Fa)},Un.prototype.ra=function(){dt(this.g,"b")},ls.prototype.createWebChannel=ls.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,qm=function(){return new ls},$m=function(){return si()},Bm=Mn,dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Ol=Qi,ya.COMPLETE="complete",jm=ya,qi.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Xo=qi,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Um=Xe}).apply(typeof Nl<"u"?Nl:typeof self<"u"?self:typeof window<"u"?window:{});const Lp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Dm("@firebase/firestore");function xs(){return Di.logLevel}function te(i,...e){if(Di.logLevel<=De.DEBUG){const n=e.map(Vh);Di.debug(`Firestore (${Gs}): ${i}`,...n)}}function yr(i,...e){if(Di.logLevel<=De.ERROR){const n=e.map(Vh);Di.error(`Firestore (${Gs}): ${i}`,...n)}}function zs(i,...e){if(Di.logLevel<=De.WARN){const n=e.map(Vh);Di.warn(`Firestore (${Gs}): ${i}`,...n)}}function Vh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(i="Unexpected state"){const e=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: `+i;throw yr(e),new Error(e)}function ze(i,e){i||ge()}function _e(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class r0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i0{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ni,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ni)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string"),new Wm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Ot(e)}}class s0{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class o0{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new s0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new a0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=u0(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Us(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new yt(0,0))}static max(){return new ve(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(),s===void 0?s=e.length-n:s>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),d=n.get(a);if(c<d)return-1;if(c>d)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends oa{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const c0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends oa{construct(e,n,s){return new xt(e,n,s)}static isValidIdentifier(e){return c0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new de(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(d=!d,a++):m!=="."||d?(s+=m,a++):(c(),a++)}if(c(),d)throw new de(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(nt.fromString(e))}static fromName(e){return new fe(nt.fromString(e).popFirst(5))}static empty(){return new fe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new nt(e.slice()))}}function h0(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ve.fromTimestamp(s===1e9?new yt(n+1,0):new yt(n,s));return new Kr(a,fe.empty(),e)}function d0(i){return new Kr(i.readTime,i.key,-1)}class Kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(ve.min(),fe.empty(),-1)}static max(){return new Kr(ve.max(),fe.empty(),-1)}}function f0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(i){if(i.code!==K.FAILED_PRECONDITION||i.message!==p0)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,s)=>{n(e)})}static reject(e){return new B((n,s)=>{s(e)})}static waitFor(e){return new B((n,s)=>{let a=0,c=0,d=!1;e.forEach(m=>{++a,m.next(()=>{++c,d&&c===a&&n()},y=>s(y))}),d=!0,c===a&&n()})}static or(e){let n=B.resolve(!1);for(const s of e)n=n.next(a=>a?B.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new B((s,a)=>{const c=e.length,d=new Array(c);let m=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next(w=>{d[_]=w,++m,m===c&&s(d)},w=>a(w))}})}static doWhile(e,n){return new B((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function g0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ks(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ru.oe=-1;function iu(i){return i==null}function Hl(i){return i===0&&1/i==-1/0}function y0(i){return typeof i=="number"&&Number.isInteger(i)&&!Hl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Mp(e)),e=_0(i.get(n),e);return Mp(e)}function _0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Mp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ei(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Gm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dl(this.root,e,this.comparator,!0)}}class Dl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??kt.RED,this.left=a??kt.EMPTY,this.right=c??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new kt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return kt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,s,a,c){return this}insert(e,n,s){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Op(this.data.getIterator())}getIteratorFrom(e){return new Op(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Op{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new vt(xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Qm("Invalid base64 string: "+c):c}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const E0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(i){if(ze(!!i),typeof i=="string"){let e=0;const n=E0.exec(i);if(ze(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(i.seconds),nanos:ot(i.nanos)}}function ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Yr(i){return typeof i=="string"?Vt.fromBase64String(i):Vt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function su(i){const e=i.mapValue.fields.__previous_value__;return Nh(e)?su(e):e}function aa(i){const e=Xr(i.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,s,a,c,d,m,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_}}class la{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new la("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nh(i)?4:I0(i)?9007199254740991:T0(i)?10:11:ge()}function Qn(i,e){if(i===e)return!0;const n=Jr(i);if(n!==Jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return aa(i).isEqual(aa(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=Xr(a.timestampValue),m=Xr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Yr(a.bytesValue).isEqual(Yr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return ot(a.geoPointValue.latitude)===ot(c.geoPointValue.latitude)&&ot(a.geoPointValue.longitude)===ot(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return ot(a.integerValue)===ot(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=ot(a.doubleValue),m=ot(c.doubleValue);return d===m?Hl(d)===Hl(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return Us(i.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(a,c){const d=a.mapValue.fields||{},m=c.mapValue.fields||{};if(bp(d)!==bp(m))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(m[y]===void 0||!Qn(d[y],m[y])))return!1;return!0}(i,e);default:return ge()}}function ua(i,e){return(i.values||[]).find(n=>Qn(n,e))!==void 0}function js(i,e){if(i===e)return 0;const n=Jr(i),s=Jr(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(c,d){const m=ot(c.integerValue||c.doubleValue),y=ot(d.integerValue||d.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Fp(i.timestampValue,e.timestampValue);case 4:return Fp(aa(i),aa(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return function(c,d){const m=Yr(c),y=Yr(d);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),y=d.split("/");for(let _=0;_<m.length&&_<y.length;_++){const w=ke(m[_],y[_]);if(w!==0)return w}return ke(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const m=ke(ot(c.latitude),ot(d.latitude));return m!==0?m:ke(ot(c.longitude),ot(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return zp(i.arrayValue,e.arrayValue);case 10:return function(c,d){var m,y,_,w;const R=c.fields||{},L=d.fields||{},j=(m=R.value)===null||m===void 0?void 0:m.arrayValue,G=(y=L.value)===null||y===void 0?void 0:y.arrayValue,q=ke(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((w=G==null?void 0:G.values)===null||w===void 0?void 0:w.length)||0);return q!==0?q:zp(j,G)}(i.mapValue,e.mapValue);case 11:return function(c,d){if(c===Ll.mapValue&&d===Ll.mapValue)return 0;if(c===Ll.mapValue)return 1;if(d===Ll.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),_=d.fields||{},w=Object.keys(_);y.sort(),w.sort();for(let R=0;R<y.length&&R<w.length;++R){const L=ke(y[R],w[R]);if(L!==0)return L;const j=js(m[y[R]],_[w[R]]);if(j!==0)return j}return ke(y.length,w.length)}(i.mapValue,e.mapValue);default:throw ge()}}function Fp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=Xr(i),s=Xr(e),a=ke(n.seconds,s.seconds);return a!==0?a:ke(n.nanos,s.nanos)}function zp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=js(n[a],s[a]);if(c)return c}return ke(n.length,s.length)}function Bs(i){return fh(i)}function fh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Xr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Yr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return fe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=fh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const d of s)c?c=!1:a+=",",a+=`${d}:${fh(n.fields[d])}`;return a+"}"}(i.mapValue):ge()}function Fl(i){switch(Jr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=su(i);return e?16+Fl(e):16;case 5:return 2*i.stringValue.length;case 6:return Yr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Fl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ei(s.fields,(c,d)=>{a+=c.length+Fl(d)}),a}(i.mapValue);default:throw ge()}}function ph(i){return!!i&&"integerValue"in i}function Dh(i){return!!i&&"arrayValue"in i}function Up(i){return!!i&&"nullValue"in i}function jp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zl(i){return!!i&&"mapValue"in i}function T0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ea(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ei(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ea(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ea(i.arrayValue.values[n]);return e}return Object.assign({},i)}function I0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(n)}setAll(e){let n=xt.emptyPath(),s={},a=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}d?s[m.lastSegment()]=ea(d):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];zl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ei(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new an(ea(this.value))}}function Km(i){const e=[];return ei(i.fields,(n,s)=>{const a=new xt([n]);if(zl(s)){const c=Km(s.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,ve.min(),ve.min(),ve.min(),an.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,ve.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,ve.min(),ve.min(),an.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ve.min(),ve.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.position=e,this.inclusive=n}}function Bp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],d=i.position[a];if(c.field.isKeyField()?s=fe.comparator(fe.fromName(d.referenceValue),n.key):s=js(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function $p(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function S0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{}class gt extends Xm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new C0(e,n,s):n==="array-contains"?new k0(e,s):n==="in"?new x0(e,s):n==="not-in"?new V0(e,s):n==="array-contains-any"?new N0(e,s):new gt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new R0(e,s):new P0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&Jr(this.value)===Jr(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Xm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kn(e,n)}matches(e){return Ym(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ym(i){return i.op==="and"}function Jm(i){return A0(i)&&Ym(i)}function A0(i){for(const e of i.filters)if(e instanceof Kn)return!1;return!0}function mh(i){if(i instanceof gt)return i.field.canonicalString()+i.op.toString()+Bs(i.value);if(Jm(i))return i.filters.map(e=>mh(e)).join(",");{const e=i.filters.map(n=>mh(n)).join(",");return`${i.op}(${e})`}}function Zm(i,e){return i instanceof gt?function(s,a){return a instanceof gt&&s.op===a.op&&s.field.isEqual(a.field)&&Qn(s.value,a.value)}(i,e):i instanceof Kn?function(s,a){return a instanceof Kn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,d,m)=>c&&Zm(d,a.filters[m]),!0):!1}(i,e):void ge()}function eg(i){return i instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Bs(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(eg).join(" ,")+"}"}(i):"Filter"}class C0 extends gt{constructor(e,n,s){super(e,n,s),this.key=fe.fromName(s.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class R0 extends gt{constructor(e,n){super(e,"in",n),this.keys=tg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P0 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=tg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>fe.fromName(s.referenceValue))}class k0 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dh(n)&&ua(n.arrayValue,this.value)}}class x0 extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}}class V0 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ua(this.value.arrayValue,n)}}class N0 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ua(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n=null,s=[],a=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=d,this.endAt=m,this.ue=null}}function qp(i,e=null,n=[],s=[],a=null,c=null,d=null){return new D0(i,e,n,s,a,c,d)}function Lh(i){const e=_e(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>mh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),iu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Bs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Bs(s)).join(",")),e.ue=n}return e.ue}function Mh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!S0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Zm(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!$p(i.startAt,e.startAt)&&$p(i.endAt,e.endAt)}function gh(i){return fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n=null,s=[],a=[],c=null,d="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function L0(i,e,n,s,a,c,d,m){return new ou(i,e,n,s,a,c,d,m)}function bh(i){return new ou(i)}function Wp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function M0(i){return i.collectionGroup!==null}function ta(i){const e=_e(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new vt(xt.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Ql(c,s))}),n.has(xt.keyField().canonicalString())||e.ce.push(new Ql(xt.keyField(),s))}return e.ce}function Wn(i){const e=_e(i);return e.le||(e.le=b0(e,ta(i))),e.le}function b0(i,e){if(i.limitType==="F")return qp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Ql(a.field,c)});const n=i.endAt?new Gl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Gl(i.startAt.position,i.startAt.inclusive):null;return qp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function yh(i,e,n){return new ou(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function au(i,e){return Mh(Wn(i),Wn(e))&&i.limitType===e.limitType}function ng(i){return`${Lh(Wn(i))}|lt:${i.limitType}`}function Vs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>eg(a)).join(", ")}]`),iu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Bs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Bs(a)).join(",")),`Target(${s})`}(Wn(i))}; limitType=${i.limitType})`}function lu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):fe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of ta(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(d,m,y){const _=Bp(d,m,y);return d.inclusive?_<=0:_<0}(s.startAt,ta(s),a)||s.endAt&&!function(d,m,y){const _=Bp(d,m,y);return d.inclusive?_>=0:_>0}(s.endAt,ta(s),a))}(i,e)}function O0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function rg(i){return(e,n)=>{let s=!1;for(const a of ta(i)){const c=F0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function F0(i,e,n){const s=i.field.isKeyField()?fe.comparator(e.key,n.key):function(c,d,m){const y=d.data.field(c),_=m.data.field(c);return y!==null&&_!==null?js(y,_):ge()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Gm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new et(fe.comparator);function vr(){return z0}const ig=new et(fe.comparator);function Yo(...i){let e=ig;for(const n of i)e=e.insert(n.key,n);return e}function sg(i){let e=ig;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function xi(){return na()}function og(){return na()}function na(){return new Mi(i=>i.toString(),(i,e)=>i.isEqual(e))}const U0=new et(fe.comparator),j0=new vt(fe.comparator);function Re(...i){let e=j0;for(const n of i)e=e.add(n);return e}const B0=new vt(ke);function $0(){return B0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hl(e)?"-0":e}}function ag(i){return{integerValue:""+i}}function q0(i,e){return y0(e)?ag(e):Oh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this._=void 0}}function W0(i,e,n){return i instanceof Kl?function(a,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Nh(c)&&(c=su(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(n,e):i instanceof ca?ug(i,e):i instanceof ha?cg(i,e):function(a,c){const d=lg(a,c),m=Hp(d)+Hp(a.Pe);return ph(d)&&ph(a.Pe)?ag(m):Oh(a.serializer,m)}(i,e)}function H0(i,e,n){return i instanceof ca?ug(i,e):i instanceof ha?cg(i,e):n}function lg(i,e){return i instanceof Xl?function(s){return ph(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Kl extends uu{}class ca extends uu{constructor(e){super(),this.elements=e}}function ug(i,e){const n=hg(e);for(const s of i.elements)n.some(a=>Qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ha extends uu{constructor(e){super(),this.elements=e}}function cg(i,e){let n=hg(e);for(const s of i.elements)n=n.filter(a=>!Qn(a,s));return{arrayValue:{values:n}}}class Xl extends uu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Hp(i){return ot(i.integerValue||i.doubleValue)}function hg(i){return Dh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function G0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ca&&a instanceof ca||s instanceof ha&&a instanceof ha?Us(s.elements,a.elements,Qn):s instanceof Xl&&a instanceof Xl?Qn(s.Pe,a.Pe):s instanceof Kl&&a instanceof Kl}(i.transform,e.transform)}class Q0{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ul(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class cu{}function dg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new pg(i.key,mr.none()):new hu(i.key,i.data,mr.none());{const n=i.data,s=an.empty();let a=new vt(xt.comparator);for(let c of e.fields)if(!a.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),a=a.add(c)}return new bi(i.key,s,new Dn(a.toArray()),mr.none())}}function K0(i,e,n){i instanceof hu?function(a,c,d){const m=a.value.clone(),y=Qp(a.fieldTransforms,c,d.transformResults);m.setAll(y),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,n):i instanceof bi?function(a,c,d){if(!Ul(a.precondition,c))return void c.convertToUnknownDocument(d.version);const m=Qp(a.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(fg(a)),y.setAll(m),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function ra(i,e,n,s){return i instanceof hu?function(c,d,m,y){if(!Ul(c.precondition,d))return m;const _=c.value.clone(),w=Kp(c.fieldTransforms,y,d);return _.setAll(w),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof bi?function(c,d,m,y){if(!Ul(c.precondition,d))return m;const _=Kp(c.fieldTransforms,y,d),w=d.data;return w.setAll(fg(c)),w.setAll(_),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,d,m){return Ul(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,n)}function X0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=lg(s.transform,a||null);c!=null&&(n===null&&(n=an.empty()),n.set(s.field,c))}return n||null}function Gp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Us(s,a,(c,d)=>G0(c,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class hu extends cu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bi extends cu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Qp(i,e,n){const s=new Map;ze(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],d=c.transform,m=e.data.field(c.field);s.set(c.field,H0(d,m,n[a]))}return s}function Kp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,d=n.data.field(a.field);s.set(a.field,W0(c,d,e))}return s}class pg extends cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y0 extends cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&K0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ra(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ra(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=og();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(a.key)?null:m;const y=dg(d,m);y!==null&&s.set(a.key,y),d.isValidDocument()||d.convertToNoDocument(ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,s)=>Gp(n,s))&&Us(this.baseMutations,e.baseMutations,(n,s)=>Gp(n,s))}}class Fh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ze(e.mutations.length===s.length);let a=function(){return U0}();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,s[d].version);return new Fh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ne;function tE(i){switch(i){default:return ge();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function mg(i){if(i===void 0)return yr("GRPC error has no .code"),K.UNKNOWN;switch(i){case ut.OK:return K.OK;case ut.CANCELLED:return K.CANCELLED;case ut.UNKNOWN:return K.UNKNOWN;case ut.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ut.INTERNAL:return K.INTERNAL;case ut.UNAVAILABLE:return K.UNAVAILABLE;case ut.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ut.NOT_FOUND:return K.NOT_FOUND;case ut.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ut.ABORTED:return K.ABORTED;case ut.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ut.DATA_LOSS:return K.DATA_LOSS;default:return ge()}}(Ne=ut||(ut={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Vi([4294967295,4294967295],0);function Xp(i){const e=nE().encode(i),n=new zm;return n.update(e),new Uint8Array(n.digest())}function Yp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Vi([n,s],0),new Vi([a,c],0)]}class zh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jo(`Invalid padding: ${n}`);if(s<0)throw new Jo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Vi.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Vi.fromNumber(s)));return a.compare(rE)===1&&(a=new Vi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Xp(e),[s,a]=Yp(n);for(let c=0;c<this.hashCount;c++){const d=this.Ee(s,a,c);if(!this.de(d))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new zh(c,a,n);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.Te===0)return;const n=Xp(e),[s,a]=Yp(n);for(let c=0;c<this.hashCount;c++){const d=this.Ee(s,a,c);this.Ae(d)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new du(ve.min(),a,new et(ke),vr(),Re())}}class fa{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new fa(s,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class gg{constructor(e,n){this.targetId=e,this.me=n}}class yg{constructor(e,n,s=Vt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Jp{constructor(){this.fe=0,this.ge=Zp(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),s=Re();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ge()}}),new fa(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Zp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iE{constructor(e){this.Le=e,this.Be=new Map,this.ke=vr(),this.qe=Ml(),this.Qe=Ml(),this.Ke=new et(ke)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(gh(c))if(s===0){const d=new fe(c.path);this.We(n,d,Ft.newNoDocument(d,ve.min()))}else ze(s===1);else{const d=this.Ze(n);if(d!==s){const m=this.Xe(e),y=m?this.et(m,e,d):1;if(y!==0){this.He(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let d,m;try{d=Yr(s).toUint8Array()}catch(y){if(y instanceof Qm)return zs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new zh(d,a,c)}catch(y){return zs(y instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const d=this.Le.nt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,d)=>{const m=this.Ye(d);if(m){if(c.current&&gh(m.target)){const y=new fe(m.target.path);this.st(y).has(d)||this.ot(d,y)||this.We(d,y,Ft.newNoDocument(y,e))}c.be&&(n.set(d,c.ve()),c.Ce())}});let s=Re();this.Qe.forEach((c,d)=>{let m=!0;d.forEachWhile(y=>{const _=this.Ye(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(e));const a=new du(e,n,this.Ke,this.ke,s);return this.ke=vr(),this.qe=Ml(),this.Qe=Ml(),this.Ke=new et(ke),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Jp,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new vt(ke),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(ke),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Jp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ml(){return new et(fe.comparator)}function Zp(){return new et(fe.comparator)}const sE={asc:"ASCENDING",desc:"DESCENDING"},oE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aE={and:"AND",or:"OR"};class lE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vh(i,e){return i.useProto3Json||iu(e)?e:{value:e}}function Yl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function uE(i,e){return Yl(i,e.toTimestamp())}function Hn(i){return ze(!!i),ve.fromTimestamp(function(n){const s=Xr(n);return new yt(s.seconds,s.nanos)}(i))}function Uh(i,e){return _h(i,e).canonicalString()}function _h(i,e){const n=function(a){return new nt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function _g(i){const e=nt.fromString(i);return ze(Sg(e)),e}function Eh(i,e){return Uh(i.databaseId,e.path)}function th(i,e){const n=_g(e);if(n.get(1)!==i.databaseId.projectId)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new fe(wg(n))}function Eg(i,e){return Uh(i.databaseId,e)}function cE(i){const e=_g(i);return e.length===4?nt.emptyPath():wg(e)}function wh(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function wg(i){return ze(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function em(i,e,n){return{name:Eh(i,e),fields:n.value.mapValue.fields}}function hE(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,w){return _.useProto3Json?(ze(w===void 0||typeof w=="string"),Vt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Vt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(_){const w=_.code===void 0?K.UNKNOWN:mg(_.code);return new de(w,_.message||"")}(d);n=new yg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=th(i,s.document.name),c=Hn(s.document.updateTime),d=s.document.createTime?Hn(s.document.createTime):ve.min(),m=new an({mapValue:{fields:s.document.fields}}),y=Ft.newFoundDocument(a,c,d,m),_=s.targetIds||[],w=s.removedTargetIds||[];n=new jl(_,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=th(i,s.document),c=s.readTime?Hn(s.readTime):ve.min(),d=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new jl([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=th(i,s.document),c=s.removedTargetIds||[];n=new jl([],c,a,null)}else{if(!("filter"in e))return ge();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,d=new eE(a,c),m=s.targetId;n=new gg(m,d)}}return n}function dE(i,e){let n;if(e instanceof hu)n={update:em(i,e.key,e.value)};else if(e instanceof pg)n={delete:Eh(i,e.key)};else if(e instanceof bi)n={update:em(i,e.key,e.data),updateMask:wE(e.fieldMask)};else{if(!(e instanceof Y0))return ge();n={verify:Eh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof Kl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ca)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ha)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xl)return{fieldPath:d.field.canonicalString(),increment:m.Pe};throw ge()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:uE(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge()}(i,e.precondition)),n}function fE(i,e){return i&&i.length>0?(ze(e!==void 0),i.map(n=>function(a,c){let d=a.updateTime?Hn(a.updateTime):Hn(c);return d.isEqual(ve.min())&&(d=Hn(c)),new Q0(d,a.transformResults||[])}(n,e))):[]}function pE(i,e){return{documents:[Eg(i,e.path)]}}function mE(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Eg(i,a);const c=function(_){if(_.length!==0)return Ig(Kn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(w=>function(L){return{field:Ns(L.field),direction:vE(L.dir)}}(w))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=vh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function gE(i){let e=cE(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ze(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(R){const L=Tg(R);return L instanceof Kn&&Jm(L)?L.getFilters():[L]}(n.where));let d=[];n.orderBy&&(d=function(R){return R.map(L=>function(G){return new Ql(Ds(G.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(L))}(n.orderBy));let m=null;n.limit&&(m=function(R){let L;return L=typeof R=="object"?R.value:R,iu(L)?null:L}(n.limit));let y=null;n.startAt&&(y=function(R){const L=!!R.before,j=R.values||[];return new Gl(j,L)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const L=!R.before,j=R.values||[];return new Gl(j,L)}(n.endAt)),L0(e,a,d,c,m,"F",y,_)}function yE(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Tg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ds(n.unaryFilter.field);return gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ds(n.unaryFilter.field);return gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ds(n.unaryFilter.field);return gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ds(n.unaryFilter.field);return gt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(i):i.fieldFilter!==void 0?function(n){return gt.create(Ds(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>Tg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(i):ge()}function vE(i){return sE[i]}function _E(i){return oE[i]}function EE(i){return aE[i]}function Ns(i){return{fieldPath:i.canonicalString()}}function Ds(i){return xt.fromServerFormat(i.fieldPath)}function Ig(i){return i instanceof gt?function(n){if(n.op==="=="){if(jp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(Up(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(Up(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:_E(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(a=>Ig(a));return s.length===1?s[0]:{compositeFilter:{op:EE(n.op),filters:s}}}(i):ge()}function wE(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Sg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,s,a,c=ve.min(),d=ve.min(),m=Vt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.ht=e}}function IE(i){const e=gE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.ln=new AE}addToCollectionParentIndex(e,n){return this.ln.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Kr.min())}updateCollectionGroup(e,n,s){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class AE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new vt(nt.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new vt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new $s(0)}static Qn(){return new $s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm([i,e],[n,s]){const a=ke(i,n);return a===0?ke(e,s):a}class CE{constructor(e){this.Gn=e,this.buffer=new vt(nm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ks(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Qs(n)}await this.Yn(3e5)})}}class PE{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return B.resolve(ru.oe);const s=new CE(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(tm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,d,m,y,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,d=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(_=Date.now(),xs()<=De.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${a} in `+(m-d)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${R} documents in `+(_-y)+`ms
Total Duration: ${_-w}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R})))}}function kE(i,e){return new PE(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.changes=new Mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?B.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ra(s.mutation,a,Dn.empty(),yt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Re()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Re()){const a=xi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let d=Yo();return c.forEach((m,y)=>{d=d.insert(m,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=xi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Re()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,s,a){let c=vr();const d=na(),m=function(){return na()}();return n.forEach((y,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof bi)?c=c.insert(_.key,_):w!==void 0?(d.set(_.key,w.mutation.getFieldMask()),ra(w.mutation,_,w.mutation.getFieldMask(),yt.now())):d.set(_.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((_,w)=>d.set(_,w)),n.forEach((_,w)=>{var R;return m.set(_,new VE(w,(R=d.get(_))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=na();let a=new et((d,m)=>d-m),c=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let w=s.get(y)||Dn.empty();w=m.applyToLocalView(_,w),s.set(y,w);const R=(a.get(m.batchId)||Re()).add(y);a=a.insert(m.batchId,R)})}).next(()=>{const d=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,w=y.value,R=og();w.forEach(L=>{if(!c.has(L)){const j=dg(n.get(L),s.get(L));j!==null&&R.set(L,j),c=c.add(L)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,R))}return B.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(d){return fe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):B.resolve(xi());let m=-1,y=c;return d.next(_=>B.forEach(_,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(w)?B.resolve():this.remoteDocumentCache.getEntry(e,w).next(L=>{y=y.insert(w,L)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,y,_,Re())).next(w=>({batchId:m,changes:sg(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(s=>{let a=Yo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let d=Yo();return this.indexManager.getCollectionParents(e,c).next(m=>B.forEach(m,y=>{const _=function(R,L){return new ou(L,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((R,L)=>{d=d.insert(R,L)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(d=>{c.forEach((y,_)=>{const w=_.getKey();d.get(w)===null&&(d=d.insert(w,Ft.newInvalidDocument(w)))});let m=Yo();return d.forEach((y,_)=>{const w=c.get(y);w!==void 0&&ra(w.mutation,_,Dn.empty(),yt.now()),lu(n,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Hn(a.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:IE(a.bundledQuery),readTime:Hn(a.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.overlays=new et(fe.comparator),this.Er=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const s=xi();return B.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),B.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),B.resolve()}getOverlaysForCollection(e,n,s){const a=xi(),c=n.length+1,d=new fe(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new et((_,w)=>_-w);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=c.get(_.largestBatchId);w===null&&(w=xi(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=xi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,w)=>m.set(_,w)),!(m.size()>=a)););return B.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const d=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Z0(n,s));let c=this.Er.get(n);c===void 0&&(c=Re(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.dr=new vt(St.Ar),this.Rr=new vt(St.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new St(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new St(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new fe(new nt([])),s=new St(n,e),a=new St(n,e+1),c=[];return this.Rr.forEachInRange([s,a],d=>{this.gr(d),c.push(d.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new fe(new nt([])),s=new St(n,e),a=new St(n,e+1);let c=Re();return this.Rr.forEachInRange([s,a],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new St(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class St{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return fe.comparator(e.key,n.key)||ke(e.br,n.br)}static Vr(e,n){return ke(e.br,n.br)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new vt(St.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new J0(c,n,s,a);this.mutationQueue.push(d);for(const m of a)this.vr=this.vr.add(new St(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return B.resolve(d)}lookupMutationBatch(e,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return B.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new St(n,0),a=new St(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],d=>{const m=this.Cr(d.br);c.push(m)}),B.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vt(ke);return n.forEach(a=>{const c=new St(a,0),d=new St(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,d],m=>{s=s.add(m.br)})}),B.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;fe.isDocumentKey(c)||(c=c.child(""));const d=new St(new fe(c),0);let m=new vt(ke);return this.vr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(y.br)),!0)},d),B.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ze(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return B.forEach(n.mutations,a=>{const c=new St(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new St(n,0),a=this.vr.firstAfterOrEqual(s);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.Nr=e,this.docs=function(){return new et(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,d=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return B.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),B.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=vr();const d=n.path,m=new fe(d.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:w}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||f0(d0(w),s)<=0||(a.has(w.key)||lu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return B.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ge()}Lr(e,n){return B.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new FE(this)}getSize(e){return B.resolve(this.size)}}class FE extends xE{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),B.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.persistence=e,this.Br=new Mi(n=>Lh(n),Mh),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new jh,this.targetCount=0,this.Qr=$s.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),B.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new $s(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Un(n),B.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),B.waitFor(c).next(()=>a)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return B.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),B.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),B.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return B.resolve(s)}containsKey(e,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.Kr={},this.overlays={},this.$r=new ru(0),this.Ur=!1,this.Ur=!0,this.Wr=new ME,this.referenceDelegate=e(this),this.Gr=new zE(this),this.indexManager=new SE,this.remoteDocumentCache=function(a){return new OE(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new TE(n),this.jr=new DE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new bE(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new UE(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return B.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class UE extends m0{constructor(e){super(),this.currentSequenceNumber=e}}class Bh{constructor(e){this.persistence=e,this.Zr=new jh,this.Xr=null}static ei(e){return new Bh(e)}get ti(){if(this.Xr)return this.Xr;throw ge()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),B.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,s=>{const a=fe.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,ve.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Jl{constructor(e,n){this.persistence=e,this.ri=new Mi(s=>v0(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=kE(this,n)}static ei(e,n){return new Jl(e,n)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return B.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?B.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,d=>this.ir(e,d,n).next(m=>{m||(s++,c.removeEntry(d,ve.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fl(e.data.value)),n}ir(e,n,s){return B.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return B.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Re(),a=Re();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new $h(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Fv()?8:g0(bv())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new jE;return this.ts(e,n,d).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,d,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(xs()<=De.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(xs()<=De.DEBUG&&te("QueryEngine","Query:",Vs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(xs()<=De.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):B.resolve())}Xi(e,n){if(Wp(n))return B.resolve(null);let s=Wn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=yh(n,null,"F"),s=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Re(...c);return this.Zi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const _=this.rs(n,m);return this.ss(n,_,d,y.readTime)?this.Xi(e,yh(n,null,"F")):this.os(e,_,n,y)}))})))}es(e,n,s,a){return Wp(n)||a.isEqual(ve.min())?B.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const d=this.rs(n,c);return this.ss(n,d,s,a)?B.resolve(null):(xs()<=De.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vs(n)),this.os(e,d,n,h0(a,-1)).next(m=>m))})}rs(e,n){let s=new vt(rg(e));return n.forEach((a,c)=>{lu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return xs()<=De.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.Zi.getDocumentsMatchingQuery(e,n,Kr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new et(ke),this.cs=new Mi(c=>Lh(c),Mh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function qE(i,e,n,s){return new $E(i,e,n,s)}async function Cg(i,e){const n=_e(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let y=Re();for(const _ of a){d.push(_.batchId);for(const w of _.mutations)y=y.add(w.key)}for(const _ of c){m.push(_.batchId);for(const w of _.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ts:_,removedBatchIds:d,addedBatchIds:m}))})})}function WE(i,e){const n=_e(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,_,w){const R=_.batch,L=R.keys();let j=B.resolve();return L.forEach(G=>{j=j.next(()=>w.getEntry(y,G)).next(q=>{const z=_.docVersions.get(G);ze(z!==null),q.version.compareTo(z)<0&&(R.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),w.addEntry(q)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(y,R))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Re();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(y=y.add(m.batch.mutations[_].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Rg(i){const e=_e(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function HE(i,e){const n=_e(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const L=a.get(R);if(!L)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,R)));let j=L.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?j=j.withResumeToken(Vt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):w.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(w.resumeToken,s)),a=a.insert(R,j),function(q,z,re){return q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0}(L,j,w)&&m.push(n.Gr.updateTargetData(c,j))});let y=vr(),_=Re();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(GE(c,d,e.documentUpdates).next(w=>{y=w.Is,_=w.Es})),!s.isEqual(ve.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(R=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return B.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,_)).next(()=>y)}).then(c=>(n.us=a,c))}function GE(i,e,n){let s=Re(),a=Re();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let d=vr();return n.forEach((m,y)=>{const _=c.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(ve.min())?(e.removeEntry(m,y.readTime),d=d.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(m,y)):te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{Is:d,Es:a}})}function QE(i,e){const n=_e(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function KE(i,e){const n=_e(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,B.resolve(a)):n.Gr.allocateTargetId(s).next(d=>(a=new Hr(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Th(i,e,n){const s=_e(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!Ks(d))throw d;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function rm(i,e,n){const s=_e(i);let a=ve.min(),c=Re();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,_,w){const R=_e(y),L=R.cs.get(w);return L!==void 0?B.resolve(R.us.get(L)):R.Gr.getTargetData(_,w)}(s,d,Wn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(d,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(d,e,n?a:ve.min(),n?c:Re())).next(m=>(XE(s,O0(e),m),{documents:m,ds:c})))}function XE(i,e,n){let s=i.ls.get(e)||ve.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class im{constructor(){this.activeTargetIds=$0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YE{constructor(){this._o=new im,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new im,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl=null;function nh(){return bl===null?bl=function(){return 268435456+Math.round(2147483648*Math.random())}():bl++,"0x"+bl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class tw extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,d){const m=nh(),y=this.No(n,s.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,c,d),this.Bo(n,y,_,a).then(w=>(te("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw zs("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",y,"request:",a),w})}ko(n,s,a,c,d,m){return this.Oo(n,s,a,c,d)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,d)=>n[d]=c),a&&a.headers.forEach((c,d)=>n[d]=c)}No(n,s){const a=ZE[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=nh();return new Promise((d,m)=>{const y=new Um;y.setWithCredentials(!0),y.listenOnce(jm.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ol.NO_ERROR:const w=y.getResponseJson();te(bt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Ol.TIMEOUT:te(bt,`RPC '${e}' ${c} timed out`),m(new de(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ol.HTTP_ERROR:const R=y.getStatus();if(te(bt,`RPC '${e}' ${c} failed with status:`,R,"response text:",y.getResponseText()),R>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const j=L==null?void 0:L.error;if(j&&j.status&&j.message){const G=function(z){const re=z.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(re)>=0?re:K.UNKNOWN}(j.status);m(new de(G,j.message))}else m(new de(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new de(K.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{te(bt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);te(bt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",_,s,15)})}qo(e,n,s){const a=nh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=qm(),m=$m(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Lo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");te(bt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const R=d.createWebChannel(w,y);let L=!1,j=!1;const G=new ew({Eo:z=>{j?te(bt,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(L||(te(bt,`Opening RPC '${e}' stream ${a} transport.`),R.open(),L=!0),te(bt,`RPC '${e}' stream ${a} sending:`,z),R.send(z))},Ao:()=>R.close()}),q=(z,re,le)=>{z.listen(re,pe=>{try{le(pe)}catch(ye){setTimeout(()=>{throw ye},0)}})};return q(R,Xo.EventType.OPEN,()=>{j||(te(bt,`RPC '${e}' stream ${a} transport opened.`),G.So())}),q(R,Xo.EventType.CLOSE,()=>{j||(j=!0,te(bt,`RPC '${e}' stream ${a} transport closed`),G.Do())}),q(R,Xo.EventType.ERROR,z=>{j||(j=!0,zs(bt,`RPC '${e}' stream ${a} transport errored:`,z),G.Do(new de(K.UNAVAILABLE,"The operation could not be completed")))}),q(R,Xo.EventType.MESSAGE,z=>{var re;if(!j){const le=z.data[0];ze(!!le);const pe=le,ye=(pe==null?void 0:pe.error)||((re=pe[0])===null||re===void 0?void 0:re.error);if(ye){te(bt,`RPC '${e}' stream ${a} received error:`,ye);const Be=ye.status;let Ae=function(A){const P=ut[A];if(P!==void 0)return mg(P)}(Be),V=ye.message;Ae===void 0&&(Ae=K.INTERNAL,V="Unknown error status: "+Be+" with message "+ye.message),j=!0,G.Do(new de(Ae,V)),R.close()}else te(bt,`RPC '${e}' stream ${a} received:`,le),G.vo(le)}}),q(m,Bm.STAT_EVENT,z=>{z.stat===dh.PROXY?te(bt,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===dh.NOPROXY&&te(bt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{G.bo()},0),G}}function rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){return new lE(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,s,a,c,d,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Pg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new de(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nw extends kg{constructor(e,n,s,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=hE(this.serializer,e),s=function(c){if(!("targetChange"in c))return ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?Hn(d.readTime):ve.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=wh(this.serializer),n.addTarget=function(c,d){let m;const y=d.target;if(m=gh(y)?{documents:pE(c,y)}:{query:mE(c,y).ct},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=vg(c,d.resumeToken);const _=vh(c,d.expectedCount);_!==null&&(m.expectedCount=_)}else if(d.snapshotVersion.compareTo(ve.min())>0){m.readTime=Yl(c,d.snapshotVersion.toTimestamp());const _=vh(c,d.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=yE(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=wh(this.serializer),n.removeTarget=e,this.c_(n)}}class rw extends kg{constructor(e,n,s,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=fE(e.writeResults,e.commitTime),s=Hn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=wh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>dE(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Oo(e,_h(n,s),a,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(K.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.ko(e,_h(n,s),a,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(K.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class sw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(yr(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(d=>{s.enqueueAndForget(async()=>{Oi(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(y){const _=_e(y);_.k_.add(4),await pa(_),_.K_.set("Unknown"),_.k_.delete(4),await pu(_)}(this))})}),this.K_=new sw(s,a)}}async function pu(i){if(Oi(i))for(const e of i.q_)await e(!0)}async function pa(i){for(const e of i.q_)await e(!1)}function xg(i,e){const n=_e(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Gh(n)?Hh(n):Xs(n).s_()&&Wh(n,e))}function qh(i,e){const n=_e(i),s=Xs(n);n.B_.delete(e),s.s_()&&Vg(n,e),n.B_.size===0&&(s.s_()?s.a_():Oi(n)&&n.K_.set("Unknown"))}function Wh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(i).V_(e)}function Vg(i,e){i.U_.xe(e),Xs(i).m_(e)}function Hh(i){i.U_=new iE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Xs(i).start(),i.K_.F_()}function Gh(i){return Oi(i)&&!Xs(i).i_()&&i.B_.size>0}function Oi(i){return _e(i).k_.size===0}function Ng(i){i.U_=void 0}async function aw(i){i.K_.set("Online")}async function lw(i){i.B_.forEach((e,n)=>{Wh(i,e)})}async function uw(i,e){Ng(i),Gh(i)?(i.K_.O_(e),Hh(i)):i.K_.set("Unknown")}async function cw(i,e,n){if(i.K_.set("Online"),e instanceof yg&&e.state===2&&e.cause)try{await async function(a,c){const d=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,d),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zl(i,s)}else if(e instanceof jl?i.U_.$e(e):e instanceof gg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(ve.min()))try{const s=await Rg(i.localStore);n.compareTo(s)>=0&&await function(c,d){const m=c.U_.it(d);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.B_.get(_);w&&c.B_.set(_,w.withResumeToken(y.resumeToken,d))}}),m.targetMismatches.forEach((y,_)=>{const w=c.B_.get(y);if(!w)return;c.B_.set(y,w.withResumeToken(Vt.EMPTY_BYTE_STRING,w.snapshotVersion)),Vg(c,y);const R=new Hr(w.target,y,_,w.sequenceNumber);Wh(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){te("RemoteStore","Failed to raise snapshot:",s),await Zl(i,s)}}async function Zl(i,e,n){if(!Ks(e))throw e;i.k_.add(1),await pa(i),i.K_.set("Offline"),n||(n=()=>Rg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await pu(i)})}function Dg(i,e){return e().catch(n=>Zl(i,n,e))}async function mu(i){const e=_e(i),n=Zr(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;hw(e);)try{const a=await QE(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,dw(e,a)}catch(a){await Zl(e,a)}Lg(e)&&Mg(e)}function hw(i){return Oi(i)&&i.L_.length<10}function dw(i,e){i.L_.push(e);const n=Zr(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Lg(i){return Oi(i)&&!Zr(i).i_()&&i.L_.length>0}function Mg(i){Zr(i).start()}async function fw(i){Zr(i).w_()}async function pw(i){const e=Zr(i);for(const n of i.L_)e.g_(n.mutations)}async function mw(i,e,n){const s=i.L_.shift(),a=Fh.from(s,e,n);await Dg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await mu(i)}async function gw(i,e){e&&Zr(i).f_&&await async function(s,a){if(function(d){return tE(d)&&d!==K.ABORTED}(a.code)){const c=s.L_.shift();Zr(s).__(),await Dg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await mu(s)}}(i,e),Lg(i)&&Mg(i)}async function om(i,e){const n=_e(i);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=Oi(n);n.k_.add(3),await pa(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await pu(n)}async function yw(i,e){const n=_e(i);e?(n.k_.delete(2),await pu(n)):e||(n.k_.add(2),await pa(n),n.K_.set("Unknown"))}function Xs(i){return i.W_||(i.W_=function(n,s,a){const c=_e(n);return c.b_(),new nw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:aw.bind(null,i),mo:lw.bind(null,i),po:uw.bind(null,i),R_:cw.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Gh(i)?Hh(i):i.K_.set("Unknown")):(await i.W_.stop(),Ng(i))})),i.W_}function Zr(i){return i.G_||(i.G_=function(n,s,a){const c=_e(n);return c.b_(),new rw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:fw.bind(null,i),po:gw.bind(null,i),p_:pw.bind(null,i),y_:mw.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await mu(i)):(await i.G_.stop(),i.L_.length>0&&(te("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const d=Date.now()+s,m=new Qh(e,n,d,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kh(i,e){if(yr("AsyncQueue",`${e}: ${i}`),Ks(i))return new de(K.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{static emptySet(e){return new bs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||fe.comparator(n.key,s.key):(n,s)=>fe.comparator(n.key,s.key),this.keyedMap=Yo(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.z_=new et(fe.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ge():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class qs{constructor(e,n,s,a,c,d,m,y,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new qs(e,n,bs.emptySet(n),d,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class _w{constructor(){this.queries=lm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=_e(n),c=a.queries;a.queries=lm(),c.forEach((d,m)=>{for(const y of m.J_)y.onError(s)})})(this,new de(K.ABORTED,"Firestore shutting down"))}}function lm(){return new Mi(i=>ng(i),au)}async function Ew(i,e){const n=_e(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new vw,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const m=Kh(d,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Xh(n)}async function ww(i,e){const n=_e(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const d=c.J_.indexOf(e);d>=0&&(c.J_.splice(d,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Tw(i,e){const n=_e(i);let s=!1;for(const a of e){const c=a.query,d=n.queries.get(c);if(d){for(const m of d.J_)m.ta(a)&&(s=!0);d.H_=a}}s&&Xh(n)}function Iw(i,e,n){const s=_e(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Xh(i){i.X_.forEach(e=>{e.next()})}var Ih,um;(um=Ih||(Ih={})).na="default",um.Cache="cache";class Sw{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new qs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Ih.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.key=e}}class Og{constructor(e){this.key=e}}class Aw{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Re(),this.mutatedKeys=Re(),this.Va=rg(e),this.ma=new bs(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new am,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,d=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const L=a.get(w),j=lu(this.query,R)?R:null,G=!!L&&this.mutatedKeys.has(L.key),q=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let z=!1;L&&j?L.data.isEqual(j.data)?G!==q&&(s.track({type:3,doc:j}),z=!0):this.ya(L,j)||(s.track({type:2,doc:j}),z=!0,(y&&this.Va(j,y)>0||_&&this.Va(j,_)<0)&&(m=!0)):!L&&j?(s.track({type:0,doc:j}),z=!0):L&&!j&&(s.track({type:1,doc:L}),z=!0,(y||_)&&(m=!0)),z&&(j?(d=d.add(j),c=q?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:d,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const d=e.pa.j_();d.sort((w,R)=>function(j,G){const q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return q(j)-q(G)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,_=y!==this.Aa;return this.Aa=y,d.length!==0||_?{snapshot:new qs(this.query,e.ma,c,d,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new am,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Re(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Og(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new bg(s))}),n}va(e){this.da=e.ds,this.Ra=Re();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return qs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Cw{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Rw{constructor(e){this.key=e,this.Fa=!1}}class Pw{constructor(e,n,s,a,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new Mi(m=>ng(m),au),this.Oa=new Map,this.Na=new Set,this.La=new et(fe.comparator),this.Ba=new Map,this.ka=new jh,this.qa={},this.Qa=new Map,this.Ka=$s.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function kw(i,e,n=!0){const s=$g(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Fg(s,e,n,!0),a}async function xw(i,e){const n=$g(i);await Fg(n,e,!0,!1)}async function Fg(i,e,n,s){const a=await KE(i.localStore,Wn(e)),c=a.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await Vw(i,e,c,d==="current",a.resumeToken)),i.isPrimaryClient&&n&&xg(i.remoteStore,a),m}async function Vw(i,e,n,s,a){i.Ua=(R,L,j)=>async function(q,z,re,le){let pe=z.view.ga(re);pe.ss&&(pe=await rm(q.localStore,z.query,!1).then(({documents:V})=>z.view.ga(V,pe)));const ye=le&&le.targetChanges.get(z.targetId),Be=le&&le.targetMismatches.get(z.targetId)!=null,Ae=z.view.applyChanges(pe,q.isPrimaryClient,ye,Be);return hm(q,z.targetId,Ae.ba),Ae.snapshot}(i,R,L,j);const c=await rm(i.localStore,e,!0),d=new Aw(e,c.ds),m=d.ga(c.documents),y=fa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=d.applyChanges(m,i.isPrimaryClient,y);hm(i,n,_.ba);const w=new Cw(e,n,d);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function Nw(i,e,n){const s=_e(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(d=>!au(d,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Th(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&qh(s.remoteStore,a.targetId),Sh(s,a.targetId)}).catch(Qs)):(Sh(s,a.targetId),await Th(s.localStore,a.targetId,!0))}async function Dw(i,e){const n=_e(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qh(n.remoteStore,s.targetId))}async function Lw(i,e,n){const s=jw(i);try{const a=await function(d,m){const y=_e(d),_=yt.now(),w=m.reduce((j,G)=>j.add(G.key),Re());let R,L;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let G=vr(),q=Re();return y.hs.getEntries(j,w).next(z=>{G=z,G.forEach((re,le)=>{le.isValidDocument()||(q=q.add(re))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,G)).next(z=>{R=z;const re=[];for(const le of m){const pe=X0(le,R.get(le.key).overlayedDocument);pe!=null&&re.push(new bi(le.key,pe,Km(pe.value.mapValue),mr.exists(!0)))}return y.mutationQueue.addMutationBatch(j,_,re,m)}).next(z=>{L=z;const re=z.applyToLocalDocumentSet(R,q);return y.documentOverlayCache.saveOverlays(j,z.batchId,re)})}).then(()=>({batchId:L.batchId,changes:sg(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,m,y){let _=d.qa[d.currentUser.toKey()];_||(_=new et(ke)),_=_.insert(m,y),d.qa[d.currentUser.toKey()]=_}(s,a.batchId,n),await ma(s,a.changes),await mu(s.remoteStore)}catch(a){const c=Kh(a,"Failed to persist write");n.reject(c)}}async function zg(i,e){const n=_e(i);try{const s=await HE(n.localStore,e);e.targetChanges.forEach((a,c)=>{const d=n.Ba.get(c);d&&(ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.Fa=!0:a.modifiedDocuments.size>0?ze(d.Fa):a.removedDocuments.size>0&&(ze(d.Fa),d.Fa=!1))}),await ma(n,s,e)}catch(s){await Qs(s)}}function cm(i,e,n){const s=_e(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,d)=>{const m=d.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(d,m){const y=_e(d);y.onlineState=m;let _=!1;y.queries.forEach((w,R)=>{for(const L of R.J_)L.ea(m)&&(_=!0)}),_&&Xh(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Mw(i,e,n){const s=_e(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let d=new et(fe.comparator);d=d.insert(c,Ft.newNoDocument(c,ve.min()));const m=Re().add(c),y=new du(ve.min(),new Map,new et(ke),d,m);await zg(s,y),s.La=s.La.remove(c),s.Ba.delete(e),Yh(s)}else await Th(s.localStore,e,!1).then(()=>Sh(s,e,n)).catch(Qs)}async function bw(i,e){const n=_e(i),s=e.batch.batchId;try{const a=await WE(n.localStore,e);jg(n,s,null),Ug(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ma(n,a)}catch(a){await Qs(a)}}async function Ow(i,e,n){const s=_e(i);try{const a=await function(d,m){const y=_e(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return y.mutationQueue.lookupMutationBatch(_,m).next(R=>(ze(R!==null),w=R.keys(),y.mutationQueue.removeMutationBatch(_,R))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,w,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>y.localDocuments.getDocuments(_,w))})}(s.localStore,e);jg(s,e,n),Ug(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ma(s,a)}catch(a){await Qs(a)}}function Ug(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function jg(i,e,n){const s=_e(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Sh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Bg(i,s)})}function Bg(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(qh(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Yh(i))}function hm(i,e,n){for(const s of n)s instanceof bg?(i.ka.addReference(s.key,e),Fw(i,s)):s instanceof Og?(te("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Bg(i,s.key)):ge()}function Fw(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(te("SyncEngine","New document in limbo: "+n),i.Na.add(s),Yh(i))}function Yh(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new fe(nt.fromString(e)),s=i.Ka.next();i.Ba.set(s,new Rw(n)),i.La=i.La.insert(n,s),xg(i.remoteStore,new Hr(Wn(bh(n.path)),s,"TargetPurposeLimboResolution",ru.oe))}}async function ma(i,e,n){const s=_e(i),a=[],c=[],d=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{d.push(s.Ua(y,e,n).then(_=>{var w;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(_){a.push(_);const R=$h.zi(y.targetId,_);c.push(R)}}))}),await Promise.all(d),s.Ma.R_(a),await async function(y,_){const w=_e(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>B.forEach(_,L=>B.forEach(L.Wi,j=>w.persistence.referenceDelegate.addReference(R,L.targetId,j)).next(()=>B.forEach(L.Gi,j=>w.persistence.referenceDelegate.removeReference(R,L.targetId,j)))))}catch(R){if(!Ks(R))throw R;te("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const L=R.targetId;if(!R.fromCache){const j=w.us.get(L),G=j.snapshotVersion,q=j.withLastLimboFreeSnapshotVersion(G);w.us=w.us.insert(L,q)}}}(s.localStore,c))}async function zw(i,e){const n=_e(i);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=await Cg(n.localStore,e);n.currentUser=e,function(c,d){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new de(K.CANCELLED,d))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ma(n,s.Ts)}}function Uw(i,e){const n=_e(i),s=n.Ba.get(e);if(s&&s.Fa)return Re().add(s.key);{let a=Re();const c=n.Oa.get(e);if(!c)return a;for(const d of c){const m=n.xa.get(d);a=a.unionWith(m.view.fa)}return a}}function $g(i){const e=_e(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=zg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mw.bind(null,e),e.Ma.R_=Tw.bind(null,e.eventManager),e.Ma.Wa=Iw.bind(null,e.eventManager),e}function jw(i){const e=_e(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ow.bind(null,e),e}class eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return qE(this.persistence,new BE,e.initialUser,this.serializer)}ja(e){return new Ag(Bh.ei,this.serializer)}za(e){return new YE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eu.provider={build:()=>new eu};class Bw extends eu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ze(this.persistence.referenceDelegate instanceof Jl);const s=this.persistence.referenceDelegate.garbageCollector;return new RE(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new Ag(s=>Jl.ei(s,n),this.serializer)}}class Ah{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zw.bind(null,this.syncEngine),await yw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _w}()}createDatastore(e){const n=fu(e.databaseInfo.databaseId),s=function(c){return new tw(c)}(e.databaseInfo);return function(c,d,m,y){return new iw(c,d,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,d,m){return new ow(s,a,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>cm(this.syncEngine,n,0),function(){return sm.p()?new sm:new JE}())}createSyncEngine(e,n){return function(a,c,d,m,y,_,w){const R=new Pw(a,c,d,m,y,_);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=_e(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await pa(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ah.provider={build:()=>new Ah};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ot.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{te("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(te("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Kh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ih(i,e){i.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Cg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function dm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Ww(i);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>om(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>om(e.remoteStore,a)),i._onlineComponents=e}async function Ww(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await ih(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===K.FAILED_PRECONDITION||a.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),await ih(i,new eu)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await ih(i,new Bw(void 0));return i._offlineComponents}async function qg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await dm(i,i._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await dm(i,new Ah))),i._onlineComponents}function Hw(i){return qg(i).then(e=>e.syncEngine)}async function fm(i){const e=await qg(i),n=e.eventManager;return n.onListen=kw.bind(null,e.syncEngine),n.onUnlisten=Nw.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xw.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Dw.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(i,e,n){if(!n)throw new de(K.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Qw(i,e,n,s){if(e===!0&&s===!0)throw new de(K.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mm(i){if(!fe.isDocumentKey(i))throw new de(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Jh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ge()}function Os(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(i);throw new de(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new n0;switch(s.type){case"firstParty":return new o0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=pm.get(n);s&&(te("ComponentProvider","Removing Datastore"),pm.delete(n),s.terminate())}(this),Promise.resolve()}}function Kw(i,e,n,s={}){var a;const c=(i=Os(i,Zh))._getSettings(),d=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==d&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Ot.MOCK_USER;else{m=Mv(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new de(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ot(_)}i._authCredentials=new r0(new Wm(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gu(this.firestore,e,this._query)}}class Jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Li extends gu{constructor(e,n,s){super(e,n,bh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new fe(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function ym(i,e,...n){if(i=Gn(i),arguments.length===1&&(e=Hm.newId()),Gw("doc","path",e),i instanceof Zh){const s=nt.fromString(e,...n);return mm(s),new Jt(i,null,new fe(s))}{if(!(i instanceof Jt||i instanceof Li))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return mm(s),new Jt(i.firestore,i instanceof Li?i.converter:null,new fe(s))}}function Xw(i,e){return i=Gn(i),e=Gn(e),(i instanceof Jt||i instanceof Li)&&(e instanceof Jt||e instanceof Li)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Pg(this,"async_queue_retry"),this.fu=()=>{const s=rh();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=rh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Ni;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ks(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw yr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Qh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&ge()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function _m(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(i,["next","error","complete"])}class tu extends Zh{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new vm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vm(e),this._firestoreClient=void 0,await e}}}function Yw(i,e){const n=typeof i=="object"?i:q_(),s=typeof i=="string"?i:"(default)",a=U_(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=Dv("firestore");c&&Kw(a,...c)}return a}function Hg(i){if(i._terminated)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Jw(i),i._firestoreClient}function Jw(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,_,w){return new w0(m,y,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Wg(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new qw(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(Vt.fromBase64String(e))}catch(n){throw new de(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=/^__.*__$/;class Gg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class rd{constructor(e,n,s,a,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new rd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return nu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Qg(this.Mu)&&Zw.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class e1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||fu(e)}$u(e,n,s,a=!1){return new rd({Mu:e,methodName:n,Ku:s,path:xt.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t1(i){const e=i._freezeSettings(),n=fu(i._databaseId);return new e1(i._databaseId,!!e.ignoreUndefinedProperties,n)}class vu extends ed{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vu}}function n1(i,e,n,s){const a=i.$u(1,e,n);Xg("Data must be an object, but it was:",a,s);const c=[],d=an.empty();ei(s,(y,_)=>{const w=id(e,y,n);_=Gn(_);const R=a.Bu(w);if(_ instanceof vu)c.push(w);else{const L=_u(_,R);L!=null&&(c.push(w),d.set(w,L))}});const m=new Dn(c);return new Gg(d,m,a.fieldTransforms)}function r1(i,e,n,s,a,c){const d=i.$u(1,e,n),m=[Em(e,s,n)],y=[a];if(c.length%2!=0)throw new de(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<c.length;L+=2)m.push(Em(e,c[L])),y.push(c[L+1]);const _=[],w=an.empty();for(let L=m.length-1;L>=0;--L)if(!o1(_,m[L])){const j=m[L];let G=y[L];G=Gn(G);const q=d.Bu(j);if(G instanceof vu)_.push(j);else{const z=_u(G,q);z!=null&&(_.push(j),w.set(j,z))}}const R=new Dn(_);return new Gg(w,R,d.fieldTransforms)}function _u(i,e){if(Kg(i=Gn(i)))return Xg("Unsupported field value:",e,i),i1(i,e);if(i instanceof ed)return function(s,a){if(!Qg(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let d=0;for(const m of s){let y=_u(m,a.ku(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return q0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=yt.fromDate(s);return{timestampValue:Yl(a.serializer,c)}}if(s instanceof yt){const c=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yl(a.serializer,c)}}if(s instanceof td)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:vg(a.serializer,s._byteString)};if(s instanceof Jt){const c=a.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw a.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Uh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof nd)return function(d,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return Oh(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${Jh(s)}`)}(i,e)}function i1(i,e){const n={};return Gm(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ei(i,(s,a)=>{const c=_u(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Kg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof yt||i instanceof td||i instanceof Ws||i instanceof Jt||i instanceof ed||i instanceof nd)}function Xg(i,e,n){if(!Kg(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Jh(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function Em(i,e,n){if((e=Gn(e))instanceof yu)return e._internalPath;if(typeof e=="string")return id(i,e);throw nu("Field path arguments must be of type string or ",i,!1,void 0,n)}const s1=new RegExp("[~\\*/\\[\\]]");function id(i,e,n){if(e.search(s1)>=0)throw nu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new yu(...e.split("."))._internalPath}catch{throw nu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function nu(i,e,n,s,a){const c=s&&!s.isEmpty(),d=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${a}`),y+=")"),new de(K.INVALID_ARGUMENT,m+i+y)}function o1(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a1 extends Yg{data(){return super.data()}}function Jg(i,e){return typeof e=="string"?id(i,e):e instanceof yu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u1{convertValue(e,n="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ei(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(d=>ot(d.doubleValue));return new nd(c)}convertGeoPoint(e){return new td(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=su(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);ze(Sg(s));const a=new la(s.get(1),s.get(3)),c=new fe(s.popFirst(5));return a.isEqual(n)||yr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zg extends Yg{constructor(e,n,s,a,c,d){super(e,n,s,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bl extends Zg{data(e={}){return super.data(e)}}class c1{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Zo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bl(this._firestore,this._userDataWriter,s.key,s,new Zo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(m=>{const y=new Bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Zo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Zo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,w=-1;return m.type!==0&&(_=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),w=d.indexOf(m.doc.key)),{type:h1(m.type),doc:y,oldIndex:_,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function h1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class ey extends u1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function d1(i,e,n,...s){i=Os(i,Jt);const a=Os(i.firestore,tu),c=t1(a);let d;return d=typeof(e=Gn(e))=="string"||e instanceof yu?r1(c,"updateDoc",i._key,e,n,s):n1(c,"updateDoc",i._key,e),p1(a,[d.toMutation(i._key,mr.exists(!0))])}function f1(i,...e){var n,s,a;i=Gn(i);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||_m(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(_m(e[d])){const R=e[d];e[d]=(n=R.next)===null||n===void 0?void 0:n.bind(R),e[d+1]=(s=R.error)===null||s===void 0?void 0:s.bind(R),e[d+2]=(a=R.complete)===null||a===void 0?void 0:a.bind(R)}let y,_,w;if(i instanceof Jt)_=Os(i.firestore,tu),w=bh(i._key.path),y={next:R=>{e[d]&&e[d](m1(_,i,R))},error:e[d+1],complete:e[d+2]};else{const R=Os(i,gu);_=Os(R.firestore,tu),w=R._query;const L=new ey(_);y={next:j=>{e[d]&&e[d](new c1(_,L,R,j))},error:e[d+1],complete:e[d+2]},l1(i._query)}return function(L,j,G,q){const z=new $w(q),re=new Sw(j,z,G);return L.asyncQueue.enqueueAndForget(async()=>Ew(await fm(L),re)),()=>{z.eu(),L.asyncQueue.enqueueAndForget(async()=>ww(await fm(L),re))}}(Hg(_),w,m,y)}function p1(i,e){return function(s,a){const c=new Ni;return s.asyncQueue.enqueueAndForget(async()=>Lw(await Hw(s),a,c)),c.promise}(Hg(i),e)}function m1(i,e,n){const s=n.docs.get(e._key),a=new ey(i);return new Zg(i,a,e._key,s,new Zo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Gs=a})($_),Wl(new ia("firestore",(s,{instanceIdentifier:a,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new tu(new i0(s.getProvider("auth-internal")),new l0(s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(_.options.projectId,w)}(d,a),d);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ms(Lp,"4.7.5",e),Ms(Lp,"4.7.5","esm2017")})();const g1={apiKey:"AIzaSyAeeu49axPpLWobvezCH0MGUyV6IWiCyw0",authDomain:"e-sunlight-418902.firebaseapp.com",projectId:"e-sunlight-418902",storageBucket:"e-sunlight-418902.firebasestorage.app",messagingSenderId:"355998761163",appId:"1:355998761163:web:f5d988f6674deb20f5db4e",measurementId:"G-EZR08PCQSX"},y1=bm(g1),wm=Yw(y1);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ty=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=we.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:d,...m},y)=>we.createElement("svg",{ref:y,..._1,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:ty("lucide",a),...m},[...d.map(([_,w])=>we.createElement(_,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=(i,e)=>{const n=we.forwardRef(({className:s,...a},c)=>we.createElement(E1,{ref:c,iconNode:e,className:ty(`lucide-${v1(i)}`,s),...a}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=sd("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=sd("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=sd("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ls=function(){return Ls=Object.assign||function(e){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Ls.apply(this,arguments)},ny=function(i){return{loading:i==null,value:i}},S1=function(){return function(i,e){switch(e.type){case"error":return Ls(Ls({},i),{error:e.error,loading:!1,value:void 0});case"reset":return ny(e.defaultValue);case"value":return Ls(Ls({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},A1=function(i){var e=void 0,n=we.useReducer(S1(),ny(e)),s=n[0],a=n[1],c=we.useCallback(function(){var y=void 0;a({type:"reset",defaultValue:y})},[i]),d=we.useCallback(function(y){a({type:"error",error:y})},[]),m=we.useCallback(function(y){a({type:"value",value:y})},[]);return we.useMemo(function(){return{error:s.error,loading:s.loading,reset:c,setError:d,setValue:m,value:s.value}},[s.error,s.loading,c,d,m,s.value])},C1=function(i,e,n){var s=we.useRef(i);return we.useEffect(function(){e(i,s.current)||(s.current=i,n&&n())}),s},R1=function(i,e){var n=!i&&!e,s=!!i&&!!e&&Xw(i,e);return n||s},P1=function(i,e){return C1(i,R1,e)},k1=function(i,e){var n=A1(),s=n.error,a=n.loading,c=n.reset,d=n.setError,m=n.setValue,y=n.value,_=P1(i,c);return we.useEffect(function(){if(!_.current){m(void 0);return}var w=f1(_.current,m,d);return function(){w()}},[_.current]),[y,a,s]},x1=function(i,e){var n=k1(i),s=n[0],a=n[1],c=n[2],d=V1(s,void 0,void 0);return[d,a,c,s]},V1=function(i,e,n){return we.useMemo(function(){var s;return(s=i==null?void 0:i.data(e))!==null&&s!==void 0?s:n},[i,e,n])};function Tm(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function N1(...i){return e=>{let n=!1;const s=i.map(a=>{const c=Tm(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<s.length;a++){const c=s[a];typeof c=="function"?c():Tm(i[a],null)}}}}var ry=we.forwardRef((i,e)=>{const{children:n,...s}=i,a=we.Children.toArray(n),c=a.find(L1);if(c){const d=c.props.children,m=a.map(y=>y===c?we.Children.count(d)>1?we.Children.only(null):we.isValidElement(d)?d.props.children:null:y);return Ce.jsx(Ch,{...s,ref:e,children:we.isValidElement(d)?we.cloneElement(d,void 0,m):null})}return Ce.jsx(Ch,{...s,ref:e,children:n})});ry.displayName="Slot";var Ch=we.forwardRef((i,e)=>{const{children:n,...s}=i;if(we.isValidElement(n)){const a=b1(n);return we.cloneElement(n,{...M1(s,n.props),ref:e?N1(e,a):a})}return we.Children.count(n)>1?we.Children.only(null):null});Ch.displayName="SlotClone";var D1=({children:i})=>Ce.jsx(Ce.Fragment,{children:i});function L1(i){return we.isValidElement(i)&&i.type===D1}function M1(i,e){const n={...e};for(const s in e){const a=i[s],c=e[s];/^on[A-Z]/.test(s)?a&&c?n[s]=(...m)=>{c(...m),a(...m)}:a&&(n[s]=a):s==="style"?n[s]={...a,...c}:s==="className"&&(n[s]=[a,c].filter(Boolean).join(" "))}return{...i,...n}}function b1(i){var s,a;let e=(s=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?i.ref:(e=(a=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?i.props.ref:i.props.ref||i.ref)}function iy(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(n=iy(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function sy(){for(var i,e,n=0,s="",a=arguments.length;n<a;n++)(i=arguments[n])&&(e=iy(i))&&(s&&(s+=" "),s+=e);return s}const Im=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,Sm=sy,O1=(i,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return Sm(i,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:c}=e,d=Object.keys(a).map(_=>{const w=n==null?void 0:n[_],R=c==null?void 0:c[_];if(w===null)return null;const L=Im(w)||Im(R);return a[_][L]}),m=n&&Object.entries(n).reduce((_,w)=>{let[R,L]=w;return L===void 0||(_[R]=L),_},{}),y=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((_,w)=>{let{class:R,className:L,...j}=w;return Object.entries(j).every(G=>{let[q,z]=G;return Array.isArray(z)?z.includes({...c,...m}[q]):{...c,...m}[q]===z})?[..._,R,L]:_},[]);return Sm(i,d,y,n==null?void 0:n.class,n==null?void 0:n.className)},od="-",F1=i=>{const e=U1(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=i;return{getClassGroupId:d=>{const m=d.split(od);return m[0]===""&&m.length!==1&&m.shift(),oy(m,e)||z1(d)},getConflictingClassGroupIds:(d,m)=>{const y=n[d]||[];return m&&s[d]?[...y,...s[d]]:y}}},oy=(i,e)=>{var d;if(i.length===0)return e.classGroupId;const n=i[0],s=e.nextPart.get(n),a=s?oy(i.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const c=i.join(od);return(d=e.validators.find(({validator:m})=>m(c)))==null?void 0:d.classGroupId},Am=/^\[(.+)\]$/,z1=i=>{if(Am.test(i)){const e=Am.exec(i)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},U1=i=>{const{theme:e,prefix:n}=i,s={nextPart:new Map,validators:[]};return B1(Object.entries(i.classGroups),n).forEach(([c,d])=>{Rh(d,s,c,e)}),s},Rh=(i,e,n,s)=>{i.forEach(a=>{if(typeof a=="string"){const c=a===""?e:Cm(e,a);c.classGroupId=n;return}if(typeof a=="function"){if(j1(a)){Rh(a(s),e,n,s);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([c,d])=>{Rh(d,Cm(e,c),n,s)})})},Cm=(i,e)=>{let n=i;return e.split(od).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},j1=i=>i.isThemeGetter,B1=(i,e)=>e?i.map(([n,s])=>{const a=s.map(c=>typeof c=="string"?e+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,m])=>[e+d,m])):c);return[n,a]}):i,$1=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const a=(c,d)=>{n.set(c,d),e++,e>i&&(e=0,s=n,n=new Map)};return{get(c){let d=n.get(c);if(d!==void 0)return d;if((d=s.get(c))!==void 0)return a(c,d),d},set(c,d){n.has(c)?n.set(c,d):a(c,d)}}},ay="!",q1=i=>{const{separator:e,experimentalParseClassName:n}=i,s=e.length===1,a=e[0],c=e.length,d=m=>{const y=[];let _=0,w=0,R;for(let z=0;z<m.length;z++){let re=m[z];if(_===0){if(re===a&&(s||m.slice(z,z+c)===e)){y.push(m.slice(w,z)),w=z+c;continue}if(re==="/"){R=z;continue}}re==="["?_++:re==="]"&&_--}const L=y.length===0?m:m.substring(w),j=L.startsWith(ay),G=j?L.substring(1):L,q=R&&R>w?R-w:void 0;return{modifiers:y,hasImportantModifier:j,baseClassName:G,maybePostfixModifierPosition:q}};return n?m=>n({className:m,parseClassName:d}):d},W1=i=>{if(i.length<=1)return i;const e=[];let n=[];return i.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},H1=i=>({cache:$1(i.cacheSize),parseClassName:q1(i),...F1(i)}),G1=/\s+/,Q1=(i,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=e,c=[],d=i.trim().split(G1);let m="";for(let y=d.length-1;y>=0;y-=1){const _=d[y],{modifiers:w,hasImportantModifier:R,baseClassName:L,maybePostfixModifierPosition:j}=n(_);let G=!!j,q=s(G?L.substring(0,j):L);if(!q){if(!G){m=_+(m.length>0?" "+m:m);continue}if(q=s(L),!q){m=_+(m.length>0?" "+m:m);continue}G=!1}const z=W1(w).join(":"),re=R?z+ay:z,le=re+q;if(c.includes(le))continue;c.push(le);const pe=a(q,G);for(let ye=0;ye<pe.length;++ye){const Be=pe[ye];c.push(re+Be)}m=_+(m.length>0?" "+m:m)}return m};function K1(){let i=0,e,n,s="";for(;i<arguments.length;)(e=arguments[i++])&&(n=ly(e))&&(s&&(s+=" "),s+=n);return s}const ly=i=>{if(typeof i=="string")return i;let e,n="";for(let s=0;s<i.length;s++)i[s]&&(e=ly(i[s]))&&(n&&(n+=" "),n+=e);return n};function X1(i,...e){let n,s,a,c=d;function d(y){const _=e.reduce((w,R)=>R(w),i());return n=H1(_),s=n.cache.get,a=n.cache.set,c=m,m(y)}function m(y){const _=s(y);if(_)return _;const w=Q1(y,n);return a(y,w),w}return function(){return c(K1.apply(null,arguments))}}const Ke=i=>{const e=n=>n[i]||[];return e.isThemeGetter=!0,e},uy=/^\[(?:([a-z-]+):)?(.+)\]$/i,Y1=/^\d+\/\d+$/,J1=new Set(["px","full","screen"]),Z1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=i=>Fs(i)||J1.has(i)||Y1.test(i),qr=i=>Ys(i,"length",hT),Fs=i=>!!i&&!Number.isNaN(Number(i)),sh=i=>Ys(i,"number",Fs),Qo=i=>!!i&&Number.isInteger(Number(i)),iT=i=>i.endsWith("%")&&Fs(i.slice(0,-1)),Ee=i=>uy.test(i),Wr=i=>Z1.test(i),sT=new Set(["length","size","percentage"]),oT=i=>Ys(i,sT,cy),aT=i=>Ys(i,"position",cy),lT=new Set(["image","url"]),uT=i=>Ys(i,lT,fT),cT=i=>Ys(i,"",dT),Ko=()=>!0,Ys=(i,e,n)=>{const s=uy.exec(i);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},hT=i=>eT.test(i)&&!tT.test(i),cy=()=>!1,dT=i=>nT.test(i),fT=i=>rT.test(i),pT=()=>{const i=Ke("colors"),e=Ke("spacing"),n=Ke("blur"),s=Ke("brightness"),a=Ke("borderColor"),c=Ke("borderRadius"),d=Ke("borderSpacing"),m=Ke("borderWidth"),y=Ke("contrast"),_=Ke("grayscale"),w=Ke("hueRotate"),R=Ke("invert"),L=Ke("gap"),j=Ke("gradientColorStops"),G=Ke("gradientColorStopPositions"),q=Ke("inset"),z=Ke("margin"),re=Ke("opacity"),le=Ke("padding"),pe=Ke("saturate"),ye=Ke("scale"),Be=Ke("sepia"),Ae=Ke("skew"),V=Ke("space"),I=Ke("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Ee,e],x=()=>[Ee,e],S=()=>["",pr,qr],$e=()=>["auto",Fs,Ee],ct=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],rt=()=>["solid","dashed","dotted","double","none"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Ee],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Fs,Ee];return{cacheSize:500,separator:":",theme:{colors:[Ko],spacing:[pr,qr],blur:["none","",Wr,Ee],brightness:D(),borderColor:[i],borderRadius:["none","","full",Wr,Ee],borderSpacing:x(),borderWidth:S(),contrast:D(),grayscale:ae(),hueRotate:D(),invert:ae(),gap:x(),gradientColorStops:[i],gradientColorStopPositions:[iT,qr],inset:N(),margin:N(),opacity:D(),padding:x(),saturate:D(),scale:D(),sepia:ae(),skew:D(),space:x(),translate:x()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Wr]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ct(),Ee]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[q]}],"inset-x":[{"inset-x":[q]}],"inset-y":[{"inset-y":[q]}],start:[{start:[q]}],end:[{end:[q]}],top:[{top:[q]}],right:[{right:[q]}],bottom:[{bottom:[q]}],left:[{left:[q]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qo,Ee]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",Qo,Ee]}],"grid-cols":[{"grid-cols":[Ko]}],"col-start-end":[{col:["auto",{span:["full",Qo,Ee]},Ee]}],"col-start":[{"col-start":$e()}],"col-end":[{"col-end":$e()}],"grid-rows":[{"grid-rows":[Ko]}],"row-start-end":[{row:["auto",{span:[Qo,Ee]},Ee]}],"row-start":[{"row-start":$e()}],"row-end":[{"row-end":$e()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[L]}],"gap-x":[{"gap-x":[L]}],"gap-y":[{"gap-y":[L]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[le]}],px:[{px:[le]}],py:[{py:[le]}],ps:[{ps:[le]}],pe:[{pe:[le]}],pt:[{pt:[le]}],pr:[{pr:[le]}],pb:[{pb:[le]}],pl:[{pl:[le]}],m:[{m:[z]}],mx:[{mx:[z]}],my:[{my:[z]}],ms:[{ms:[z]}],me:[{me:[z]}],mt:[{mt:[z]}],mr:[{mr:[z]}],mb:[{mb:[z]}],ml:[{ml:[z]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,e]}],"min-w":[{"min-w":[Ee,e,"min","max","fit"]}],"max-w":[{"max-w":[Ee,e,"none","full","min","max","fit","prose",{screen:[Wr]},Wr]}],h:[{h:[Ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Wr,qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sh]}],"font-family":[{font:[Ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Fs,sh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[re]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...rt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,qr]}],"underline-offset":[{"underline-offset":["auto",pr,Ee]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[re]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ct(),aT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uT]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[G]}],"gradient-via-pos":[{via:[G]}],"gradient-to-pos":[{to:[G]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[re]}],"border-style":[{border:[...rt(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[re]}],"divide-style":[{divide:rt()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...rt()]}],"outline-offset":[{"outline-offset":[pr,Ee]}],"outline-w":[{outline:[pr,qr]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[re]}],"ring-offset-w":[{"ring-offset":[pr,qr]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",Wr,cT]}],"shadow-color":[{shadow:[Ko]}],opacity:[{opacity:[re]}],"mix-blend":[{"mix-blend":[...be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":be()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[y]}],"drop-shadow":[{"drop-shadow":["","none",Wr,Ee]}],grayscale:[{grayscale:[_]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[R]}],saturate:[{saturate:[pe]}],sepia:[{sepia:[Be]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[y]}],"backdrop-grayscale":[{"backdrop-grayscale":[_]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[R]}],"backdrop-opacity":[{"backdrop-opacity":[re]}],"backdrop-saturate":[{"backdrop-saturate":[pe]}],"backdrop-sepia":[{"backdrop-sepia":[Be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ye]}],"scale-x":[{"scale-x":[ye]}],"scale-y":[{"scale-y":[ye]}],rotate:[{rotate:[Qo,Ee]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[Ae]}],"skew-y":[{"skew-y":[Ae]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[pr,qr,sh]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mT=X1(pT);function gT(...i){return mT(sy(i))}const yT=O1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),da=we.forwardRef(({className:i,variant:e,size:n,asChild:s=!1,...a},c)=>{const d=s?ry:"button";return Ce.jsx(d,{className:gT(yT({variant:e,size:n,className:i})),ref:c,...a})});da.displayName="Button";const vT="/mj-heartsu/assets/ggbr-1-Bfu2w6n9.jpeg",_T="/mj-heartsu/assets/ggbr-2-DeGdrdTV.jpeg",ET="/mj-heartsu/assets/ggbr-3-DFditZqG.jpeg",wT="/mj-heartsu/assets/ggbr-4-NDmA5Uyg.jpeg",Rm=[vT,_T,ET,wT],TT=()=>{const[i,e,n]=x1(ym(wm,"babu","hearts")),[s,a]=we.useState([]),c=we.useRef(null),d=we.useRef(null),[m,y]=we.useState("default"),_=we.useRef(!1);we.useEffect(()=>{"Notification"in window&&y(Notification.permission)},[]),we.useEffect(()=>{i&&(document.title=`I love you babu | ${i.count}`,d.current!==null&&i.count>d.current&&c.current&&!_.current&&(R(),m==="granted"&&q("New Love from Babu!",`Heart count is now ${i.count}`)),d.current=i.count,_.current=!1)},[i,m]);const w=()=>{if(!c.current)return{x:0,y:0};const re=c.current.getBoundingClientRect();return{x:Math.random()*(re.width-100),y:Math.random()*(re.height-100)}},R=()=>{const{x:z,y:re}=w(),le={id:Date.now(),x:z,y:re,imageIndex:Math.floor(Math.random()*Rm.length)};a(pe=>[...pe,le]),setTimeout(()=>{a(pe=>pe.filter(ye=>ye.id!==le.id))},1500)},L=we.useCallback(async()=>{i&&c.current&&(_.current=!0,await d1(ym(wm,"babu","hearts"),{count:i.count+1}),R())},[i]),j=async()=>{if("Notification"in window)try{const z=await Notification.requestPermission();y(z),z==="granted"&&await G()}catch(z){console.error("Error requesting notification permission:",z)}},G=async()=>{if("serviceWorker"in navigator)try{const z=await navigator.serviceWorker.register("/mj-heartsu/sw.js",{scope:"/mj-heartsu/"});console.log("Service Worker registered with scope:",z.scope)}catch(z){console.error("Service Worker registration failed:",z)}},q=(z,re)=>{"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then(le=>{le.showNotification(z,{body:re,icon:"/mj-heartsu/ggbr-favicon.jpeg",badge:"/mj-heartsu/ggbr-favicon.jpeg"})})};return Ce.jsxs("div",{ref:c,className:"relative flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[Ce.jsxs("div",{className:"text-center mb-8",children:[Ce.jsx("h1",{className:"text-4xl font-bold mb-4",children:"I Love U Babu"}),Ce.jsxs("div",{className:"flex flex-col items-center",children:[Ce.jsx(da,{onClick:L,disabled:e,className:"flex items-center justify-center p-6 bg-white rounded-full shadow-lg hover:bg-red-100 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:e?Ce.jsx(T1,{className:"w-16 h-16 text-red-500 animate-spin"}):Ce.jsx(w1,{className:"w-16 h-16 text-red-500",fill:"currentColor"})}),n?Ce.jsxs("p",{className:"text-xl text-red-500",children:["Error: ",n.message]}):i?Ce.jsx("p",{className:"text-3xl font-bold text-gray-700",children:i.count}):null]})]}),Ce.jsxs("div",{className:"max-w-2xl text-center px-4 sm:px-6 lg:px-0",children:[Ce.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Babu's Haiku"}),Ce.jsxs("p",{className:"text-gray-600 italic",children:["Babu my love",Ce.jsx("br",{}),"Together through ups and downs",Ce.jsx("br",{}),"Ride or die"]})]}),s.map(z=>Ce.jsxs("div",{className:"absolute pointer-events-none animate-float-and-fade",style:{left:`${z.x}px`,top:`${z.y}px`},children:[Ce.jsx("img",{src:Rm[z.imageIndex],alt:"GGBR",className:"w-16 h-16 rounded-full object-cover mb-2"}),Ce.jsx("p",{className:"text-red-500 font-bold text-lg text-center",children:"+1 I love u babu"})]},z.id)),m!=="granted"&&Ce.jsx(da,{onClick:j,className:"mt-4",children:"Enable Notifications"})]})},IT=({onClose:i})=>{const[e,n]=we.useState(null);we.useEffect(()=>{const a=c=>{c.preventDefault(),n(c)};return window.addEventListener("beforeinstallprompt",a),()=>{window.removeEventListener("beforeinstallprompt",a)}},[]);const s=async()=>{if(e){e.prompt();const{outcome:a}=await e.userChoice;console.log(a==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),n(null)}i()};return e?Ce.jsxs("div",{className:"fixed bottom-4 left-4 right-4 bg-white p-4 rounded-lg shadow-lg z-50 flex items-center justify-between",children:[Ce.jsxs("div",{children:[Ce.jsx("h3",{className:"font-bold text-lg",children:"Add to Home Screen"}),Ce.jsx("p",{className:"text-sm text-gray-600",children:"Install this app on your device for quick and easy access!"})]}),Ce.jsxs("div",{className:"flex items-center",children:[Ce.jsx(da,{onClick:s,className:"mr-2",children:"Install"}),Ce.jsx(da,{variant:"ghost",size:"icon",onClick:i,children:Ce.jsx(I1,{className:"h-4 w-4"})})]})]}):null};function ST(){const[i,e]=we.useState(!1);return we.useEffect(()=>{if(!window.matchMedia("(display-mode: standalone)").matches){const s=setTimeout(()=>{e(!0)},5e3);return()=>clearTimeout(s)}},[]),Ce.jsxs("div",{className:"App",children:[Ce.jsx(TT,{}),i&&Ce.jsx(IT,{onClose:()=>e(!1)})]})}Iv.createRoot(document.getElementById("root")).render(Ce.jsx(gv.StrictMode,{children:Ce.jsx(ST,{})}));"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const i=await navigator.serviceWorker.register("/mj-heartsu/sw.js",{scope:"/mj-heartsu/"});console.log("SW registered: ",i)}catch(i){console.log("SW registration failed: ",i)}});
